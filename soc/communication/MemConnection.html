<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>MemConnection (JSettlers 3.0.3 API)</title>
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MemConnection (JSettlers 3.0.3 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../soc/communication/Connection.html" title="class in soc.communication"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../soc/communication/MemServerSocket.html" title="class in soc.communication"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?soc/communication/MemConnection.html" target="_top">Frames</a></li>
<li><a href="MemConnection.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.soc.communication.Connection">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">soc.communication</div>
<h2 title="Class MemConnection" class="title">Class MemConnection</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../soc/communication/Connection.html" title="class in soc.communication">soc.communication.Connection</a></li>
<li>
<ul class="inheritance">
<li>soc.communication.MemConnection</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">MemConnection</span>
extends <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></pre>
<div class="block">Symmetric buffered connection sending strings between two local peers.
 Uses vectors and thread synchronization, no actual network traffic.
<P>
 This class has a run method, but you must start the thread yourself.
 Constructors will not create or start a thread.
<P>
 As used within JSettlers, the structure of this class has much in common
 with <a href="../../soc/communication/NetConnection.html" title="class in soc.communication"><code>NetConnection</code></a>, as they both subclass <a href="../../soc/communication/Connection.html" title="class in soc.communication"><code>Connection</code></a>.
 If you add something to one class you should probably add it to the other,
 or to the superclass instead.

<PRE>
  1.0.0 - 2007-11-18 - initial release, becoming part of jsettlers v1.1.00
  1.0.1 - 2008-06-28 - add getConnectTime
  1.0.2 - 2008-07-30 - check if s already null in disconnect
  1.0.3 - 2008-08-08 - add disconnectSoft, getVersion, setVersion (jsettlers 1.1.00 release)
  1.0.4 - 2008-09-04 - add appData
  1.0.5 - 2009-05-31 - add isVersionKnown, setVersion(int,bool), setVersionTracking,
                       isInputAvailable, callback to processFirstCommand,
                       wantsHideTimeoutMessage, setHideTimeoutMessage;
                       common constructor code moved to init().
  1.0.5.1- 2009-10-26- javadoc warnings fixed
  1.0.5.2- 2010-04-05- add toString for debugging
  1.2.0 - 2017-06-03 - <a href="../../soc/communication/Connection.html#setData-java.lang.String-"><code>Connection.setData(String)</code></a> now takes a String, not Object.
  2.0.0 - 2017-11-01 - Rename StringConnection -> Connection, NetStringConnection -> NetConnection,
                       LocalStringConnection -> StringConnection.
                       Connection is now a superclass, not an interface.
  2.1.0 - 2020-01-09 - Only server-side changes: See <a href="../../soc/communication/SOCServerSocket.html" title="interface in soc.communication"><code>SOCServerSocket</code></a>
  2.3.0 - 2020-04-27 - no change in this file
  2.4.5 - 2020-07-17 - put: fix cosmetic "IllegalStateException: Not accepted by server yet" seen when
                       sending message during disconnect/server shutdown
</PRE></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.00</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Jeremy D Monin &lt;jeremy@nand.net&gt;</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.soc.communication.Connection">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;soc.communication.<a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></h3>
<code><a href="../../soc/communication/Connection.html#accepted">accepted</a>, <a href="../../soc/communication/Connection.html#appData">appData</a>, <a href="../../soc/communication/Connection.html#connectTime">connectTime</a>, <a href="../../soc/communication/Connection.html#data">data</a>, <a href="../../soc/communication/Connection.html#debugTraffic">debugTraffic</a>, <a href="../../soc/communication/Connection.html#error">error</a>, <a href="../../soc/communication/Connection.html#hideTimeoutMessage">hideTimeoutMessage</a>, <a href="../../soc/communication/Connection.html#in_reachedEOF">in_reachedEOF</a>, <a href="../../soc/communication/Connection.html#JVM_STRINGPORT">JVM_STRINGPORT</a>, <a href="../../soc/communication/Connection.html#localeStr">localeStr</a>, <a href="../../soc/communication/Connection.html#MAX_MESSAGE_SIZE_UTF8">MAX_MESSAGE_SIZE_UTF8</a>, <a href="../../soc/communication/Connection.html#messageDispatcher">messageDispatcher</a>, <a href="../../soc/communication/Connection.html#myRunner">myRunner</a>, <a href="../../soc/communication/Connection.html#out_setEOF">out_setEOF</a>, <a href="../../soc/communication/Connection.html#remoteVersion">remoteVersion</a>, <a href="../../soc/communication/Connection.html#remoteVersionKnown">remoteVersionKnown</a>, <a href="../../soc/communication/Connection.html#remoteVersionTrack">remoteVersionTrack</a>, <a href="../../soc/communication/Connection.html#stringMgr">stringMgr</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#MemConnection--">MemConnection</a></span>()</code>
<div class="block">Create a new, unused MemConnection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#MemConnection-soc.communication.MemConnection-">MemConnection</a></span>(<a href="../../soc/communication/MemConnection.html" title="class in soc.communication">MemConnection</a>&nbsp;peer)</code>
<div class="block">Constructor for an existing peer

 This class has a run method, but you must start the thread yourself.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#connect-boolean-">connect</a></span>(boolean&nbsp;debugTraffic)</code>
<div class="block">Local version; nothing special to do to start reading messages.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#disconnect--">disconnect</a></span>()</code>
<div class="block">close the connection, discard pending buffered data, set EOF.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#disconnectSoft--">disconnectSoft</a></span>()</code>
<div class="block">Accept no further input, allow output to drain, don't immediately close the socket.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#getHost--">getHost</a></span>()</code>
<div class="block">Hostname of the remote side of the connection -
 Always returns localhost; this method required for
 the Connection interface.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../soc/communication/MemConnection.html" title="class in soc.communication">MemConnection</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#getPeer--">getPeer</a></span>()</code>
<div class="block">Remember, the peer's in is our out, and vice versa.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#isAccepted--">isAccepted</a></span>()</code>
<div class="block">Is currently accepted by a server</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#isConnected--">isConnected</a></span>()</code>
<div class="block">Are we currently connected and active?</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#isInEOF--">isInEOF</a></span>()</code>
<div class="block">Have we received an EOF marker inbound?</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#isInputAvailable--">isInputAvailable</a></span>()</code>
<div class="block">Is input available now, without blocking?</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#isOutEOF--">isOutEOF</a></span>()</code>
<div class="block">Have we closed our outbound side?</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#receive-soc.message.SOCMessage-">receive</a></span>(<a href="../../soc/message/SOCMessage.html" title="class in soc.message">SOCMessage</a>&nbsp;receivedMessage)</code>
<div class="block">Accept a message to be "treated".</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#reset--">reset</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#run--">run</a></span>()</code>
<div class="block">Fetches the next message from this connection's message queue and dispatches it to the
 registered message handler.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#send-soc.message.SOCMessage-">send</a></span>(<a href="../../soc/message/SOCMessage.html" title="class in soc.message">SOCMessage</a>&nbsp;socMessage)</code>
<div class="block">Adds a message to the peer's input queue.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#setAccepted--">setAccepted</a></span>()</code>
<div class="block">Intended for server to call: Set our accepted flag.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/MemConnection.html#toString--">toString</a></span>()</code>
<div class="block">For debugging, toString includes connection name key (<a href="../../soc/communication/Connection.html#getData--"><code>Connection.getData()</code></a>) if available.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.soc.communication.Connection">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;soc.communication.<a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></h3>
<code><a href="../../soc/communication/Connection.html#getAppData--">getAppData</a>, <a href="../../soc/communication/Connection.html#getConnectTime--">getConnectTime</a>, <a href="../../soc/communication/Connection.html#getData--">getData</a>, <a href="../../soc/communication/Connection.html#getError--">getError</a>, <a href="../../soc/communication/Connection.html#getI18NLocale--">getI18NLocale</a>, <a href="../../soc/communication/Connection.html#getI18NStringManager--">getI18NStringManager</a>, <a href="../../soc/communication/Connection.html#getLocalized-java.lang.String-">getLocalized</a>, <a href="../../soc/communication/Connection.html#getLocalized-java.lang.String-java.lang.Object...-">getLocalized</a>, <a href="../../soc/communication/Connection.html#getLocalizedSpecial-soc.game.SOCGame-java.lang.String-java.lang.Object...-">getLocalizedSpecial</a>, <a href="../../soc/communication/Connection.html#getRemoteVersion--">getRemoteVersion</a>, <a href="../../soc/communication/Connection.html#isVersionKnown--">isVersionKnown</a>, <a href="../../soc/communication/Connection.html#setAppData-java.lang.Object-">setAppData</a>, <a href="../../soc/communication/Connection.html#setData-java.lang.String-">setData</a>, <a href="../../soc/communication/Connection.html#setDebugTraffic-boolean-">setDebugTraffic</a>, <a href="../../soc/communication/Connection.html#setHideTimeoutMessage-boolean-">setHideTimeoutMessage</a>, <a href="../../soc/communication/Connection.html#setI18NStringManager-soc.util.SOCStringManager-java.lang.String-">setI18NStringManager</a>, <a href="../../soc/communication/Connection.html#setVersion-int-">setVersion</a>, <a href="../../soc/communication/Connection.html#setVersion-int-boolean-">setVersion</a>, <a href="../../soc/communication/Connection.html#setVersionTracking-boolean-">setVersionTracking</a>, <a href="../../soc/communication/Connection.html#startMessageProcessing-soc.communication.SOCMessageDispatcher-">startMessageProcessing</a>, <a href="../../soc/communication/Connection.html#stopMessageProcessing--">stopMessageProcessing</a>, <a href="../../soc/communication/Connection.html#wantsHideTimeoutMessage--">wantsHideTimeoutMessage</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MemConnection--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MemConnection</h4>
<pre>public&nbsp;MemConnection()</pre>
<div class="block">Create a new, unused MemConnection.
<P>
 This class has a run method, but you must start the thread yourself.
 Constructors will not create or start a thread.</div>
</li>
</ul>
<a name="MemConnection-soc.communication.MemConnection-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MemConnection</h4>
<pre>public&nbsp;MemConnection(<a href="../../soc/communication/MemConnection.html" title="class in soc.communication">MemConnection</a>&nbsp;peer)
              throws java.io.EOFException</pre>
<div class="block">Constructor for an existing peer
<P>
 This class has a run method, but you must start the thread yourself.
 Constructors will not create or start a thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - The MemConnection instance to be paired with this connection
             and with which this connection will communicate.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.EOFException</code> - If peer is at EOF already</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if peer is null, or already has a peer.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="reset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;boolean&nbsp;reset()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if reset was successful</dd>
</dl>
</li>
</ul>
<a name="receive-soc.message.SOCMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receive</h4>
<pre>public&nbsp;boolean&nbsp;receive(<a href="../../soc/message/SOCMessage.html" title="class in soc.message">SOCMessage</a>&nbsp;receivedMessage)</pre>
<div class="block">Accept a message to be "treated". In the case of in-memory connections this will place the
 message in the inbound queue for the MessageHandler to deal with in a separate thread.
 In the case of a network connection, this will bundle up the message and send it over the wire.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>receivedMessage</code> - from the connection; will never be <code>null</code></dd>
</dl>
</li>
</ul>
<a name="getPeer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeer</h4>
<pre>public&nbsp;<a href="../../soc/communication/MemConnection.html" title="class in soc.communication">MemConnection</a>&nbsp;getPeer()</pre>
<div class="block">Remember, the peer's in is our out, and vice versa.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns our peer, or null if not yet connected.</dd>
</dl>
</li>
</ul>
<a name="send-soc.message.SOCMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>public&nbsp;void&nbsp;send(<a href="../../soc/message/SOCMessage.html" title="class in soc.message">SOCMessage</a>&nbsp;socMessage)
          throws java.lang.IllegalArgumentException,
                 java.lang.IllegalStateException</pre>
<div class="block">Adds a message to the peer's input queue.  Does not block.
 Ignored if out_setEOF has been set to true.
<P>
 <B>Threads:</B> Safe to call from any thread; synchronizes on internal <code>out</code> queue.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/communication/Connection.html#send-soc.message.SOCMessage-">send</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>socMessage</code> - Data to send</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>socMessage</code> is <code>null</code></dd>
<dd><code>java.lang.IllegalStateException</code> - if not yet accepted by server</dd>
</dl>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block"><p>Fetches the next message from this connection's message queue and dispatches it to the
 registered message handler. The first message in the queue is dispatched separately from
 the remaining messages for the benefit of server-side code. Client-side code typically
 treats all messages equally.
</p>
 When starting the thread, <a href="../../soc/communication/Connection.html#getData--"><code>Connection.getData()</code></a> must be null.</div>
</li>
</ul>
<a name="isAccepted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAccepted</h4>
<pre>public&nbsp;boolean&nbsp;isAccepted()</pre>
<div class="block">Is currently accepted by a server</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../soc/communication/Connection.html#isAccepted--">isAccepted</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Are we currently connected, accepted, and ready to send/receive data?</dd>
</dl>
</li>
</ul>
<a name="setAccepted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAccepted</h4>
<pre>public&nbsp;void&nbsp;setAccepted()
                 throws java.lang.IllegalStateException</pre>
<div class="block">Intended for server to call: Set our accepted flag.
 Peer must be non-null to set accepted.
 If our EOF is set, will not set accepted, but will not throw exception.
 (This happens if the server socket closes while we're in its accept queue.)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/communication/Connection.html#setAccepted--">setAccepted</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If we can't be, or already are, accepted</dd>
</dl>
</li>
</ul>
<a name="isInEOF--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInEOF</h4>
<pre>public&nbsp;boolean&nbsp;isInEOF()</pre>
<div class="block">Have we received an EOF marker inbound?</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../soc/communication/Connection.html#isInEOF--">isInEOF</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></code></dd>
</dl>
</li>
</ul>
<a name="isOutEOF--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOutEOF</h4>
<pre>public&nbsp;boolean&nbsp;isOutEOF()</pre>
<div class="block">Have we closed our outbound side?</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../soc/communication/Connection.html#isOutEOF--">isOutEOF</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#out_setEOF"><code>Connection.out_setEOF</code></a></dd>
</dl>
</li>
</ul>
<a name="getHost--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHost</h4>
<pre>public&nbsp;java.lang.String&nbsp;getHost()</pre>
<div class="block">Hostname of the remote side of the connection -
 Always returns localhost; this method required for
 the Connection interface.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/communication/Connection.html#getHost--">getHost</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Hostname of the remote end of the connection</dd>
</dl>
</li>
</ul>
<a name="connect-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connect</h4>
<pre>public&nbsp;boolean&nbsp;connect(boolean&nbsp;debugTraffic)</pre>
<div class="block">Local version; nothing special to do to start reading messages.
 Call connect(serverSocketName) instead of this method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/communication/Connection.html#connect-boolean-">connect</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Whether we've connected and been accepted by a SOCServerSocket.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#connect-boolean-"><code>Connection.connect( boolean )</code></a></dd>
</dl>
</li>
</ul>
<a name="isConnected--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isConnected</h4>
<pre>public&nbsp;boolean&nbsp;isConnected()</pre>
<div class="block">Are we currently connected and active?</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/communication/Connection.html#isConnected--">isConnected</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></code></dd>
</dl>
</li>
</ul>
<a name="disconnect--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre>public&nbsp;void&nbsp;disconnect()</pre>
<div class="block">close the connection, discard pending buffered data, set EOF.
 Called after conn is removed from server structures.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/communication/Connection.html#disconnect--">disconnect</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></code></dd>
</dl>
</li>
</ul>
<a name="disconnectSoft--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnectSoft</h4>
<pre>public&nbsp;void&nbsp;disconnectSoft()</pre>
<div class="block">Accept no further input, allow output to drain, don't immediately close the socket.
 Once called, <a href="../../soc/communication/MemConnection.html#isConnected--"><code>isConnected()</code></a> will return false, even if output is still being
 sent to the other side.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/communication/Connection.html#disconnectSoft--">disconnectSoft</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></code></dd>
</dl>
</li>
</ul>
<a name="isInputAvailable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInputAvailable</h4>
<pre>public&nbsp;boolean&nbsp;isInputAvailable()</pre>
<div class="block">Is input available now, without blocking?
 Same idea as <code>FilterInputStream.available()</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/communication/Connection.html#isInputAvailable--">isInputAvailable</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.5</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">For debugging, toString includes connection name key (<a href="../../soc/communication/Connection.html#getData--"><code>Connection.getData()</code></a>) if available.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.5.2</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../soc/communication/Connection.html" title="class in soc.communication"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../soc/communication/MemServerSocket.html" title="class in soc.communication"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?soc/communication/MemConnection.html" target="_top">Frames</a></li>
<li><a href="MemConnection.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.soc.communication.Connection">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
