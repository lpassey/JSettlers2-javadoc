<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Connection (JSettlers 3.0.3 API)</title>
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Connection (JSettlers 3.0.3 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":10,"i4":10,"i5":10,"i6":10,"i7":6,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":6,"i16":10,"i17":6,"i18":10,"i19":10,"i20":6,"i21":6,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../soc/communication/MemConnection.html" title="class in soc.communication"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?soc/communication/Connection.html" target="_top">Frames</a></li>
<li><a href="Connection.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">soc.communication</div>
<h2 title="Class Connection" class="title">Class Connection</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>soc.communication.Connection</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../soc/communication/MemConnection.html" title="class in soc.communication">MemConnection</a>, <a href="../../soc/communication/NetConnection.html" title="class in soc.communication">NetConnection</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">Connection</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block"><code>Connection</code> is the client's connection at the server, with a common API for
 local (<a href="../../soc/communication/MemConnection.html" title="class in soc.communication"><code>MemConnection</code></a>) and actual networked traffic (<a href="../../soc/communication/NetConnection.html" title="class in soc.communication"><code>NetConnection</code></a>).

<PRE>
  1.0.0 - 2007-11-18 - initial release, becoming part of jsettlers v1.1.00
  1.0.1 - 2008-06-28 - add getConnectTime
  1.0.2 - 2008-07-30 - no change in this file
  1.0.3 - 2008-08-08 - add disconnectSoft, getVersion, setVersion (jsettlers 1.1.00 release)
  1.0.4 - 2008-09-04 - add appData
  1.0.5 - 2009-05-31 - add isVersionKnown, setVersion(int,bool),
                       setVersionTracking, isInputAvailable,
                       wantsHideTimeoutMessage, setHideTimeoutMessage
  1.0.5.1- 2009-10-26- javadoc warnings fixed; remove unused import EOFException
  1.2.0 - 2017-06-03 - <a href="../../soc/communication/Connection.html#setData-java.lang.String-"><code>setData(String)</code></a> now takes a String, not Object.
  2.0.0 - 2017-11-01 - Rename StringConnection -> Connection, NetStringConnection -> NetConnection,
                       LocalStringConnection -> StringConnection.
                       Connection is now a superclass, not an interface.
                       SOCMessage parsing moved from single-threaded Treater to per-client Connection thread.
                       For I18N, add <a href="../../soc/communication/Connection.html#setI18NStringManager-soc.util.SOCStringManager-java.lang.String-"><code>setI18NStringManager(SOCStringManager, String)</code></a> and
                       <a href="../../soc/communication/Connection.html#getLocalized-java.lang.String-"><code>getLocalized(String)</code></a>.
  2.1.0 - 2020-01-09 - Connection +put(<a href="../../soc/message/SOCMessage.html" title="class in soc.message"><code>SOCMessage</code></a>). Misc server-side changes: See <a href="../../soc/communication/SOCServerSocket.html" title="interface in soc.communication"><code>SOCServerSocket</code></a>
  2.3.0 - 2020-04-27 - Connection +getI18NStringManager
</PRE>
<P>
 Implementation note: <code>Connection</code> is used as a key in the server's client-management collections.
 Because each Connection object is a unique connected client, we don't override <code>Object.hashCode()</code>
 or <code>Object.equals(Object)</code> because there's no need to compare Connection field contents.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.00</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Jeremy D Monin &lt;jeremy@nand.net&gt;</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.atomic.AtomicBoolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#accepted">accepted</a></span></code>
<div class="block">Active connection, server has called accept, and not disconnected yet</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#appData">appData</a></span></code>
<div class="block">The arbitrary app-specific data associated with this connection, or <code>null</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.Date</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#connectTime">connectTime</a></span></code>
<div class="block">Time of connection to server, or of object creation if that time's not available.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#data">data</a></span></code>
<div class="block">The key (client "name") associated with this connection, or <code>null</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#debugTraffic">debugTraffic</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.Exception</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#error">error</a></span></code>
<div class="block">Any error encountered, or <code>null</code></div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#hideTimeoutMessage">hideTimeoutMessage</a></span></code>
<div class="block">True if <a href="../../soc/communication/Connection.html#wantsHideTimeoutMessage--"><code>wantsHideTimeoutMessage()</code></a>;
 see that method for details.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.concurrent.atomic.AtomicBoolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#in_reachedEOF">in_reachedEOF</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#JVM_STRINGPORT">JVM_STRINGPORT</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#localeStr">localeStr</a></span></code>
<div class="block">The server-side locale for this client connection, for app-specific message formatting, or <code>null</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#MAX_MESSAGE_SIZE_UTF8">MAX_MESSAGE_SIZE_UTF8</a></span></code>
<div class="block">Because subclass <a href="../../soc/communication/NetConnection.html" title="class in soc.communication"><code>NetConnection</code></a>'s connection protocol uses <code>DataOutputStream.writeUTF(String)</code>,
 its messages must be no longer than 65535 bytes when encoded into <code>UTF-8</code>
 (which is not Java's internal string encoding).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../soc/communication/SOCMessageDispatcher.html" title="interface in soc.communication">SOCMessageDispatcher</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#messageDispatcher">messageDispatcher</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.Thread</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#myRunner">myRunner</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.concurrent.atomic.AtomicBoolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#out_setEOF">out_setEOF</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#remoteVersion">remoteVersion</a></span></code>
<div class="block">Version of the other end (client) of this connection, or 0 if unknown.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#remoteVersionKnown">remoteVersionKnown</a></span></code>
<div class="block">True if <a href="../../soc/communication/Connection.html#remoteVersion"><code>remoteVersion</code></a> should be considered confirmed/known.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#remoteVersionTrack">remoteVersionTrack</a></span></code>
<div class="block">Flag value from <a href="../../soc/communication/Connection.html#setVersionTracking-boolean-"><code>setVersionTracking(boolean)</code></a>;
 see that method for details.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../soc/util/SOCStringManager.html" title="class in soc.util">SOCStringManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#stringMgr">stringMgr</a></span></code>
<div class="block">The server-side string manager for app-specific client message formatting, or <code>null</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#Connection--">Connection</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#connect-boolean-">connect</a></span>(boolean&nbsp;debugTraffic)</code>
<div class="block">Start ability to read from the net; called only by the server framework's
 <a href="../../soc/server/genericServer/Server.html#addConnection-soc.communication.Connection-"><code>Server.addConnection(Connection)</code></a>, not from any code specific to a
 connection subclass.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#disconnect--">disconnect</a></span>()</code>
<div class="block">Close the socket, set EOF; called after conn is removed from server structures</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#disconnectSoft--">disconnectSoft</a></span>()</code>
<div class="block">Accept no further input, allow output to drain, don't immediately close the socket.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#getAppData--">getAppData</a></span>()</code>
<div class="block">The optional app-specific changeable data for this connection.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.Date</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#getConnectTime--">getConnectTime</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#getData--">getData</a></span>()</code>
<div class="block">The optional name key used to name this connection.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.Exception</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#getError--">getError</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>abstract java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#getHost--">getHost</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#getI18NLocale--">getI18NLocale</a></span>()</code>
<div class="block">Get the locale for this connection, as reported to <a href="../../soc/communication/Connection.html#setI18NStringManager-soc.util.SOCStringManager-java.lang.String-"><code>setI18NStringManager(SOCStringManager, String)</code></a>.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../soc/util/SOCStringManager.html" title="class in soc.util">SOCStringManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#getI18NStringManager--">getI18NStringManager</a></span>()</code>
<div class="block">Get the string manager for this connection, as reported
 to <a href="../../soc/communication/Connection.html#setI18NStringManager-soc.util.SOCStringManager-java.lang.String-"><code>setI18NStringManager(SOCStringManager, String)</code></a>.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#getLocalized-java.lang.String-">getLocalized</a></span>(java.lang.String&nbsp;key)</code>
<div class="block">Get a localized string (having no parameters) with the given key.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#getLocalized-java.lang.String-java.lang.Object...-">getLocalized</a></span>(java.lang.String&nbsp;key,
            java.lang.Object...&nbsp;arguments)</code>
<div class="block">Get and format a localized string (with parameters) with the given key.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#getLocalizedSpecial-soc.game.SOCGame-java.lang.String-java.lang.Object...-">getLocalizedSpecial</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;game,
                   java.lang.String&nbsp;key,
                   java.lang.Object...&nbsp;arguments)</code>
<div class="block">Get and format a localized string (with special SoC-specific parameters) with the given key.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#getRemoteVersion--">getRemoteVersion</a></span>()</code>
<div class="block">Give the version number (if known) of the remote end of this connection.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#isAccepted--">isAccepted</a></span>()</code>
<div class="block">Is currently accepted by a server

 setter is abstract</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#isConnected--">isConnected</a></span>()</code>
<div class="block">Are we currently connected and active?</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#isInEOF--">isInEOF</a></span>()</code>
<div class="block">Have we received an EOF marker inbound?</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#isInputAvailable--">isInputAvailable</a></span>()</code>
<div class="block">Is input available now, without blocking?</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#isOutEOF--">isOutEOF</a></span>()</code>
<div class="block">Have we closed our outbound side?</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#isVersionKnown--">isVersionKnown</a></span>()</code>
<div class="block">Is the version known of the remote end of this connection?</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#send-soc.message.SOCMessage-">send</a></span>(<a href="../../soc/message/SOCMessage.html" title="class in soc.message">SOCMessage</a>&nbsp;socMessage)</code>
<div class="block">Send a message to the other side of the connection.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#setAccepted--">setAccepted</a></span>()</code>
<div class="block">Intended for server or server proxy to call: Set our accepted flag.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#setAppData-java.lang.Object-">setAppData</a></span>(java.lang.Object&nbsp;data)</code>
<div class="block">Set the app-specific non-key data for this connection.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#setData-java.lang.String-">setData</a></span>(java.lang.String&nbsp;data)</code>
<div class="block">Set the optional name key for this connection.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#setDebugTraffic-boolean-">setDebugTraffic</a></span>(boolean&nbsp;debugTraffic)</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#setHideTimeoutMessage-boolean-">setHideTimeoutMessage</a></span>(boolean&nbsp;wantsHide)</code>
<div class="block">If client connection times out at server, should the server not print a message to console?</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#setI18NStringManager-soc.util.SOCStringManager-java.lang.String-">setI18NStringManager</a></span>(<a href="../../soc/util/SOCStringManager.html" title="class in soc.util">SOCStringManager</a>&nbsp;mgr,
                    java.lang.String&nbsp;loc)</code>
<div class="block">Set the I18N string manager and locale name for this connection, for server convenience.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#setVersion-int-">setVersion</a></span>(int&nbsp;version)</code>
<div class="block">Set the version number of the remote end of this connection.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#setVersion-int-boolean-">setVersion</a></span>(int&nbsp;version,
          boolean&nbsp;isKnown)</code>
<div class="block">Set the version number of the remote end of this connection.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#setVersionTracking-boolean-">setVersionTracking</a></span>(boolean&nbsp;doTracking)</code>
<div class="block">For server-side use, should we notify the server when our version
 is changed by setVersion calls?</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#startMessageProcessing-soc.communication.SOCMessageDispatcher-">startMessageProcessing</a></span>(<a href="../../soc/communication/SOCMessageDispatcher.html" title="interface in soc.communication">SOCMessageDispatcher</a>&nbsp;dispatcher)</code>
<div class="block">Start the internal thread that calls the server when new messages arrive.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#stopMessageProcessing--">stopMessageProcessing</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/communication/Connection.html#wantsHideTimeoutMessage--">wantsHideTimeoutMessage</a></span>()</code>
<div class="block">If client connection times out at server, should the server not print a message to console?</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Runnable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.lang.Runnable</h3>
<code>run</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MAX_MESSAGE_SIZE_UTF8">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_MESSAGE_SIZE_UTF8</h4>
<pre>public static final&nbsp;int MAX_MESSAGE_SIZE_UTF8</pre>
<div class="block">Because subclass <a href="../../soc/communication/NetConnection.html" title="class in soc.communication"><code>NetConnection</code></a>'s connection protocol uses <code>DataOutputStream.writeUTF(String)</code>,
 its messages must be no longer than 65535 bytes when encoded into <code>UTF-8</code>
 (which is not Java's internal string encoding).
<P>
 This limitation is mentioned here for writing code which may send messages over either type of
 <code>Connection</code>. <a href="../../soc/communication/MemConnection.html" title="class in soc.communication"><code>MemConnection</code></a> is limited only by java's <code>String</code> max length.
<P>
 You can check a string's <code>UTF-8</code> length with <code>str.getBytes("utf-8")</code>.length.
 Because of its cost, that's probably best done within the test cases, not production code.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#soc.communication.Connection.MAX_MESSAGE_SIZE_UTF8">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="JVM_STRINGPORT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JVM_STRINGPORT</h4>
<pre>public static&nbsp;java.lang.String JVM_STRINGPORT</pre>
</li>
</ul>
<a name="data">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>data</h4>
<pre>protected&nbsp;java.lang.String data</pre>
<div class="block">The key (client "name") associated with this connection, or <code>null</code>.
<P>
 Before v1.2.0, this field was an Object and could contain any arbitrary key data.</div>
</li>
</ul>
<a name="accepted">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accepted</h4>
<pre>protected&nbsp;java.util.concurrent.atomic.AtomicBoolean accepted</pre>
<div class="block">Active connection, server has called accept, and not disconnected yet</div>
</li>
</ul>
<a name="in_reachedEOF">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>in_reachedEOF</h4>
<pre>protected&nbsp;java.util.concurrent.atomic.AtomicBoolean in_reachedEOF</pre>
</li>
</ul>
<a name="out_setEOF">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>out_setEOF</h4>
<pre>protected&nbsp;java.util.concurrent.atomic.AtomicBoolean out_setEOF</pre>
</li>
</ul>
<a name="appData">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appData</h4>
<pre>protected&nbsp;java.lang.Object appData</pre>
<div class="block">The arbitrary app-specific data associated with this connection, or <code>null</code>.
 Not used or referenced by generic server.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.4</dd>
</dl>
</li>
</ul>
<a name="localeStr">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>localeStr</h4>
<pre>protected&nbsp;java.lang.String localeStr</pre>
<div class="block">The server-side locale for this client connection, for app-specific message formatting, or <code>null</code>.
 Not used or referenced by the generic server layer.
<P>
 App-specific connection data (<a href="../../soc/communication/Connection.html#getAppData--"><code>getAppData()</code></a>) can hold a full <code>Locale</code> object;
 see <a href="../../soc/communication/SOCClientData.html" title="class in soc.communication"><code>SOCClientData</code></a> for an example.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.0</dd>
</dl>
</li>
</ul>
<a name="stringMgr">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stringMgr</h4>
<pre>protected&nbsp;<a href="../../soc/util/SOCStringManager.html" title="class in soc.util">SOCStringManager</a> stringMgr</pre>
<div class="block">The server-side string manager for app-specific client message formatting, or <code>null</code>.
 Not used or referenced by the generic server layer.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.0</dd>
</dl>
</li>
</ul>
<a name="remoteVersion">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remoteVersion</h4>
<pre>protected&nbsp;int remoteVersion</pre>
<div class="block">Version of the other end (client) of this connection, or 0 if unknown.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.3</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#remoteVersionKnown"><code>remoteVersionKnown</code></a></dd>
</dl>
</li>
</ul>
<a name="remoteVersionKnown">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remoteVersionKnown</h4>
<pre>protected&nbsp;boolean remoteVersionKnown</pre>
<div class="block">True if <a href="../../soc/communication/Connection.html#remoteVersion"><code>remoteVersion</code></a> should be considered confirmed/known.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.5</dd>
</dl>
</li>
</ul>
<a name="remoteVersionTrack">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remoteVersionTrack</h4>
<pre>protected&nbsp;boolean remoteVersionTrack</pre>
<div class="block">Flag value from <a href="../../soc/communication/Connection.html#setVersionTracking-boolean-"><code>setVersionTracking(boolean)</code></a>;
 see that method for details.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.5</dd>
</dl>
</li>
</ul>
<a name="hideTimeoutMessage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hideTimeoutMessage</h4>
<pre>protected&nbsp;boolean hideTimeoutMessage</pre>
<div class="block">True if <a href="../../soc/communication/Connection.html#wantsHideTimeoutMessage--"><code>wantsHideTimeoutMessage()</code></a>;
 see that method for details.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.5</dd>
</dl>
</li>
</ul>
<a name="messageDispatcher">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>messageDispatcher</h4>
<pre>protected&nbsp;<a href="../../soc/communication/SOCMessageDispatcher.html" title="interface in soc.communication">SOCMessageDispatcher</a> messageDispatcher</pre>
</li>
</ul>
<a name="error">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>error</h4>
<pre>protected&nbsp;java.lang.Exception error</pre>
<div class="block">Any error encountered, or <code>null</code></div>
</li>
</ul>
<a name="connectTime">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectTime</h4>
<pre>protected&nbsp;java.util.Date connectTime</pre>
<div class="block">Time of connection to server, or of object creation if that time's not available.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.1</dd>
</dl>
</li>
</ul>
<a name="myRunner">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>myRunner</h4>
<pre>protected&nbsp;java.lang.Thread myRunner</pre>
</li>
</ul>
<a name="debugTraffic">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>debugTraffic</h4>
<pre>protected&nbsp;boolean debugTraffic</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Connection--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Connection</h4>
<pre>public&nbsp;Connection()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setAccepted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAccepted</h4>
<pre>public abstract&nbsp;void&nbsp;setAccepted()
                          throws java.lang.IllegalStateException</pre>
<div class="block">Intended for server or server proxy to call: Set our accepted flag.
 Peer must be non-null to set accepted.
 If our EOF is set, will not set accepted, but will not throw exception.
 (This happens if the server socket closes while we're in its accept queue.)</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If we can't be, or already are, accepted</dd>
</dl>
</li>
</ul>
<a name="isInputAvailable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInputAvailable</h4>
<pre>public abstract&nbsp;boolean&nbsp;isInputAvailable()</pre>
<div class="block">Is input available now, without blocking?
 Same idea as <code>FilterInputStream.available()</code>.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.5</dd>
</dl>
</li>
</ul>
<a name="getHost--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHost</h4>
<pre>public abstract&nbsp;java.lang.String&nbsp;getHost()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Hostname of the remote end of the connection</dd>
</dl>
</li>
</ul>
<a name="connect-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connect</h4>
<pre>public abstract&nbsp;boolean&nbsp;connect(boolean&nbsp;debugTraffic)</pre>
<div class="block">Start ability to read from the net; called only by the server framework's
 <a href="../../soc/server/genericServer/Server.html#addConnection-soc.communication.Connection-"><code>Server.addConnection(Connection)</code></a>, not from any code specific to a
 connection subclass.
<P>
 In a network-based subclass, another thread may be started by this method.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if able to connect, false if an error occurred.</dd>
</dl>
</li>
</ul>
<a name="isConnected--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isConnected</h4>
<pre>public abstract&nbsp;boolean&nbsp;isConnected()</pre>
<div class="block">Are we currently connected and active?</div>
</li>
</ul>
<a name="disconnect--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre>public abstract&nbsp;void&nbsp;disconnect()</pre>
<div class="block">Close the socket, set EOF; called after conn is removed from server structures</div>
</li>
</ul>
<a name="disconnectSoft--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnectSoft</h4>
<pre>public abstract&nbsp;void&nbsp;disconnectSoft()</pre>
<div class="block">Accept no further input, allow output to drain, don't immediately close the socket.
 Once called, <a href="../../soc/communication/Connection.html#isConnected--"><code>isConnected()</code></a> will return false, even if output is still being
 sent to the other side.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.3</dd>
</dl>
</li>
</ul>
<a name="send-soc.message.SOCMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>public abstract&nbsp;void&nbsp;send(<a href="../../soc/message/SOCMessage.html" title="class in soc.message">SOCMessage</a>&nbsp;socMessage)
                   throws java.lang.IllegalArgumentException,
                          java.lang.IllegalStateException</pre>
<div class="block">Send a message to the other side of the connection.
<P>
 <B>Threads:</B> Safe to call from any thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>socMessage</code> - Message to send.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>msg</code> is <code>null</code></dd>
<dd><code>java.lang.IllegalStateException</code> - if not yet accepted by server</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.1.00</dd>
</dl>
</li>
</ul>
<a name="startMessageProcessing-soc.communication.SOCMessageDispatcher-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startMessageProcessing</h4>
<pre>public&nbsp;void&nbsp;startMessageProcessing(<a href="../../soc/communication/SOCMessageDispatcher.html" title="interface in soc.communication">SOCMessageDispatcher</a>&nbsp;dispatcher)</pre>
<div class="block">Start the internal thread that calls the server when new messages arrive.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dispatcher</code> - class which handles incoming messages from the <code>waitQueue</code></dd>
</dl>
</li>
</ul>
<a name="stopMessageProcessing--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopMessageProcessing</h4>
<pre>public&nbsp;void&nbsp;stopMessageProcessing()</pre>
</li>
</ul>
<a name="setDebugTraffic-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDebugTraffic</h4>
<pre>public&nbsp;<a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;setDebugTraffic(boolean&nbsp;debugTraffic)</pre>
</li>
</ul>
<a name="isAccepted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAccepted</h4>
<pre>public&nbsp;boolean&nbsp;isAccepted()</pre>
<div class="block">Is currently accepted by a server

 setter is abstract</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Are we currently connected, accepted, and ready to send/receive data?</dd>
</dl>
</li>
</ul>
<a name="isInEOF--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInEOF</h4>
<pre>public&nbsp;boolean&nbsp;isInEOF()</pre>
<div class="block">Have we received an EOF marker inbound?</div>
</li>
</ul>
<a name="isOutEOF--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOutEOF</h4>
<pre>public&nbsp;boolean&nbsp;isOutEOF()</pre>
<div class="block">Have we closed our outbound side?</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#out_setEOF"><code>out_setEOF</code></a></dd>
</dl>
</li>
</ul>
<a name="getData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getData</h4>
<pre>public&nbsp;java.lang.String&nbsp;getData()</pre>
<div class="block">The optional name key used to name this connection.
<P>
 Before v1.2.0, this returned an <code>Object</code>; getData is a <code>String</code> in v1.2.0 and up.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The name key for this connection, or null.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.3</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#getAppData--"><code>getAppData()</code></a></dd>
</dl>
</li>
</ul>
<a name="setData-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setData</h4>
<pre>public&nbsp;void&nbsp;setData(java.lang.String&nbsp;data)</pre>
<div class="block">Set the optional name key for this connection.
<P>
 The genericServer message system uses this data to name the connection,
 so it should not change once set.
<P>
 If you call setData after <a href="../../soc/server/genericServer/Server.html#newConnection1-soc.communication.Connection-"><code>Server.newConnection1(Connection)</code></a>,
 please call <a href="../../soc/server/genericServer/Server.html#nameConnection-soc.communication.Connection-boolean-"><code>Server.nameConnection(Connection, boolean)</code></a> afterwards
 to ensure the name is tracked properly at the server.
<P>
 For anything else your application wants to associate with the connection,
 see <a href="../../soc/communication/Connection.html#setAppData-java.lang.Object-"><code>setAppData(Object)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - The new name key, or null</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.3</dd>
</dl>
</li>
</ul>
<a name="getAppData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAppData</h4>
<pre>public&nbsp;java.lang.Object&nbsp;getAppData()</pre>
<div class="block">The optional app-specific changeable data for this connection.
 Not used anywhere in the generic server, only in your app.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The app-specific data for this connection.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.4</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#getData--"><code>getData()</code></a></dd>
</dl>
</li>
</ul>
<a name="setAppData-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAppData</h4>
<pre>public&nbsp;void&nbsp;setAppData(java.lang.Object&nbsp;data)</pre>
<div class="block">Set the app-specific non-key data for this connection.
<P>
 This is anything your application wants to associate with the connection.
 The genericServer message system itself does not reference or use this data.
 You can change it as often as you'd like, or not use it.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - The new data, or null</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.4</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#setData-java.lang.String-"><code>setData(String)</code></a></dd>
</dl>
</li>
</ul>
<a name="getI18NLocale--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getI18NLocale</h4>
<pre>public&nbsp;java.lang.String&nbsp;getI18NLocale()</pre>
<div class="block">Get the locale for this connection, as reported to <a href="../../soc/communication/Connection.html#setI18NStringManager-soc.util.SOCStringManager-java.lang.String-"><code>setI18NStringManager(SOCStringManager, String)</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the locale passed to <code>setI18NStringManager</code>, which may be <code>null</code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#getI18NStringManager--"><code>getI18NStringManager()</code></a></dd>
</dl>
</li>
</ul>
<a name="getI18NStringManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getI18NStringManager</h4>
<pre>public&nbsp;<a href="../../soc/util/SOCStringManager.html" title="class in soc.util">SOCStringManager</a>&nbsp;getI18NStringManager()</pre>
<div class="block">Get the string manager for this connection, as reported
 to <a href="../../soc/communication/Connection.html#setI18NStringManager-soc.util.SOCStringManager-java.lang.String-"><code>setI18NStringManager(SOCStringManager, String)</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the string manager, which may be <code>null</code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.3.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#getI18NLocale--"><code>getI18NLocale()</code></a></dd>
</dl>
</li>
</ul>
<a name="setI18NStringManager-soc.util.SOCStringManager-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setI18NStringManager</h4>
<pre>public&nbsp;void&nbsp;setI18NStringManager(<a href="../../soc/util/SOCStringManager.html" title="class in soc.util">SOCStringManager</a>&nbsp;mgr,
                                 java.lang.String&nbsp;loc)</pre>
<div class="block">Set the I18N string manager and locale name for this connection, for server convenience.
 Used for <a href="../../soc/communication/Connection.html#getLocalized-java.lang.String-"><code>getLocalized(String)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mgr</code> - String manager, or null</dd>
<dd><code>loc</code> - Locale name, used only for <a href="../../soc/communication/Connection.html#getI18NLocale--"><code>getI18NLocale()</code></a></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.0</dd>
</dl>
</li>
</ul>
<a name="getLocalized-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocalized</h4>
<pre>public&nbsp;java.lang.String&nbsp;getLocalized(java.lang.String&nbsp;key)
                              throws java.util.MissingResourceException</pre>
<div class="block">Get a localized string (having no parameters) with the given key.
 Used for convenience at servers whose clients may have different locales.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key to use for string retrieval</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the localized string from the manager's bundle or one of its parents</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.util.MissingResourceException</code> - if no string can be found for <code>key</code>; this is a RuntimeException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#getLocalized-java.lang.String-java.lang.Object...-"><code>getLocalized(String, Object...)</code></a>, 
<a href="../../soc/communication/Connection.html#getLocalizedSpecial-soc.game.SOCGame-java.lang.String-java.lang.Object...-"><code>getLocalizedSpecial(SOCGame, String, Object...)</code></a></dd>
</dl>
</li>
</ul>
<a name="getLocalized-java.lang.String-java.lang.Object...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocalized</h4>
<pre>public&nbsp;java.lang.String&nbsp;getLocalized(java.lang.String&nbsp;key,
                                     java.lang.Object...&nbsp;arguments)
                              throws java.util.MissingResourceException</pre>
<div class="block">Get and format a localized string (with parameters) with the given key.
 Used for convenience at servers whose clients may have different locales.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Key to use for string retrieval</dd>
<dd><code>arguments</code> - Objects to use with <tt>{0}</tt>, <tt>{1}</tt>, etc in the localized string
                   by calling <code>MessageFormat.format(String, Object...)</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the localized formatted string from the manager's bundle or one of its parents</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.util.MissingResourceException</code> - if no string can be found for <code>key</code>; this is a RuntimeException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#getLocalized-java.lang.String-"><code>getLocalized(String)</code></a>, 
<a href="../../soc/communication/Connection.html#getLocalizedSpecial-soc.game.SOCGame-java.lang.String-java.lang.Object...-"><code>getLocalizedSpecial(SOCGame, String, Object...)</code></a></dd>
</dl>
</li>
</ul>
<a name="getLocalizedSpecial-soc.game.SOCGame-java.lang.String-java.lang.Object...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocalizedSpecial</h4>
<pre>public&nbsp;java.lang.String&nbsp;getLocalizedSpecial(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;game,
                                            java.lang.String&nbsp;key,
                                            java.lang.Object...&nbsp;arguments)
                                     throws java.util.MissingResourceException,
                                            java.lang.IllegalArgumentException</pre>
<div class="block">Get and format a localized string (with special SoC-specific parameters) with the given key.
 Used for convenience at servers whose clients may have different locales.
 See <a href="../../soc/util/SOCStringManager.html#getSpecial-soc.game.SOCGame-java.lang.String-java.lang.Object...-"><code>SOCStringManager.getSpecial(SOCGame, String, Object...)</code></a> for details.
 Uses locale/strings from our client connection's <a href="../../soc/util/SOCStringManager.html" title="class in soc.util"><code>SOCStringManager</code></a> if set,
 <a href="../../soc/util/SOCStringManager.html#getFallbackServerManagerForClient--"><code>SOCStringManager.getFallbackServerManagerForClient()</code></a> otherwise.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>game</code> - Game object to pass through to <code>SOCStringManager.getSpecial(...)</code></dd>
<dd><code>key</code> - Key to use for string retrieval</dd>
<dd><code>arguments</code> - Objects to use with <tt>{0}</tt>, <tt>{1,rsrcs}</tt>, etc in the localized string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the localized formatted string from the manager's bundle or one of its parents</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.util.MissingResourceException</code> - if no string can be found for <code>key</code>; this is a RuntimeException</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if the localized pattern string has a parse error (closing '}' brace without opening '{' brace, etc)</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#getLocalized-java.lang.String-"><code>getLocalized(String)</code></a>, 
<a href="../../soc/communication/Connection.html#getLocalized-java.lang.String-java.lang.Object...-"><code>getLocalized(String, Object...)</code></a></dd>
</dl>
</li>
</ul>
<a name="getError--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getError</h4>
<pre>public&nbsp;java.lang.Exception&nbsp;getError()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Any error encountered, or null</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.0</dd>
</dl>
</li>
</ul>
<a name="getConnectTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnectTime</h4>
<pre>public&nbsp;java.util.Date&nbsp;getConnectTime()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Time of connection to server, or of object creation if that time's not available</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.1</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#connect-boolean-"><code>connect( boolean )</code></a></dd>
</dl>
</li>
</ul>
<a name="getRemoteVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRemoteVersion</h4>
<pre>public&nbsp;int&nbsp;getRemoteVersion()</pre>
<div class="block">Give the version number (if known) of the remote end of this connection.
 The meaning of this number is application-defined.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Version number, or 0 if unknown.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.3</dd>
</dl>
</li>
</ul>
<a name="setVersion-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setVersion</h4>
<pre>public&nbsp;void&nbsp;setVersion(int&nbsp;version)</pre>
<div class="block">Set the version number of the remote end of this connection.
 The meaning of this number is application-defined.
<P>
 <b>Locking:</b> If we're on server side, and <a href="../../soc/communication/Connection.html#setVersionTracking-boolean-"><code>setVersionTracking(boolean)</code></a> is true,
  caller should synchronize on <a href="../../soc/server/genericServer/Server.html#unnamedConns"><code>Server.unnamedConns</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>version</code> - Version number, or 0 if unknown.
                If version is greater than 0, future calls to <a href="../../soc/communication/Connection.html#isVersionKnown--"><code>isVersionKnown()</code></a>
                should return true.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.3</dd>
</dl>
</li>
</ul>
<a name="setVersion-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setVersion</h4>
<pre>public&nbsp;void&nbsp;setVersion(int&nbsp;version,
                       boolean&nbsp;isKnown)</pre>
<div class="block">Set the version number of the remote end of this connection.
 The meaning of this number is application-defined.
<P>
 <b>Locking:</b> If we're on server side, and <a href="../../soc/communication/Connection.html#setVersionTracking-boolean-"><code>setVersionTracking(boolean)</code></a> is true,
  caller should synchronize on <a href="../../soc/server/genericServer/Server.html#unnamedConns"><code>Server.unnamedConns</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>version</code> - Version number, or 0 if unknown.</dd>
<dd><code>isKnown</code> - Should this version be considered confirmed/known by <a href="../../soc/communication/Connection.html#isVersionKnown--"><code>isVersionKnown()</code></a>?</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.5</dd>
</dl>
</li>
</ul>
<a name="isVersionKnown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isVersionKnown</h4>
<pre>public&nbsp;boolean&nbsp;isVersionKnown()</pre>
<div class="block">Is the version known of the remote end of this connection?
 We may have just assumed it, or taken a default.
 To confirm the version and set this flag, call <a href="../../soc/communication/Connection.html#setVersion-int-boolean-"><code>setVersion(int, boolean)</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if we've confirmed the version, false if it's assumed or default.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.5</dd>
</dl>
</li>
</ul>
<a name="setVersionTracking-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setVersionTracking</h4>
<pre>public&nbsp;void&nbsp;setVersionTracking(boolean&nbsp;doTracking)</pre>
<div class="block">For server-side use, should we notify the server when our version
 is changed by setVersion calls?</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>doTracking</code> - true if we should notify server, false otherwise.
        If true, please call both setVersion and
        <a href="../../soc/server/genericServer/Server.html#clientVersionAdd-int-"><code>Server.clientVersionAdd(int)</code></a> before calling setVersionTracking.
        If false, please call <a href="../../soc/server/genericServer/Server.html#clientVersionRem-int-"><code>Server.clientVersionRem(int)</code></a> before
        calling setVersionTracking.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.5</dd>
</dl>
</li>
</ul>
<a name="wantsHideTimeoutMessage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wantsHideTimeoutMessage</h4>
<pre>public&nbsp;boolean&nbsp;wantsHideTimeoutMessage()</pre>
<div class="block">If client connection times out at server, should the server not print a message to console?
 This would be desired, for instance, in automated clients, which would reconnect
 if they become disconnected.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.5</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#setHideTimeoutMessage-boolean-"><code>setHideTimeoutMessage(boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="setHideTimeoutMessage-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setHideTimeoutMessage</h4>
<pre>public&nbsp;void&nbsp;setHideTimeoutMessage(boolean&nbsp;wantsHide)</pre>
<div class="block">If client connection times out at server, should the server not print a message to console?
 This would be desired, for instance, in automated clients, which would reconnect
 if they become disconnected.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>wantsHide</code> - true to hide, false to print, the log message on idle-disconnect</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.5</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/communication/Connection.html#wantsHideTimeoutMessage--"><code>wantsHideTimeoutMessage()</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../soc/communication/MemConnection.html" title="class in soc.communication"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?soc/communication/Connection.html" target="_top">Frames</a></li>
<li><a href="Connection.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
