<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Server (JSettlers 3.0.4 API)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Server (JSettlers 3.0.4 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../soc/server/genericServer/NetServerSocket.html" title="class in soc.server.genericServer"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../soc/server/genericServer/Server.ConnExcepDelayedPrintTask.html" title="class in soc.server.genericServer"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?soc/server/genericServer/Server.html" target="_top">Frames</a></li>
<li><a href="Server.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">soc.server.genericServer</div>
<h2 title="Class Server" class="title">Class Server</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.lang.Thread</li>
<li>
<ul class="inheritance">
<li>soc.server.genericServer.Server</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable, java.lang.Cloneable, java.lang.Runnable</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../soc/server/SOCServer.html" title="class in soc.server">SOCServer</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">Server</span>
extends java.lang.Thread
implements java.io.Serializable, java.lang.Cloneable</pre>
<div class="block">a general purpose server.
<P>
  This is the real stuff. Server subclasses won't have to care about
  reading/writing on the net, data consistency among threads, etc.
  The Server listens on either a TCP <a href="../../../soc/server/genericServer/Server.html#port"><code>port</code></a>, or for Practice mode,
  to a <a href="../../../soc/communication/MemServerSocket.html" title="class in soc.communication"><code>MemServerSocket</code></a>.
<P>
  Newly connecting clients arrive in <a href="../../../soc/server/genericServer/Server.html#run--"><code>run()</code></a>,
  start a thread for the server side of their <a href="../../../soc/communication/NetConnection.html" title="class in soc.communication"><code>NetConnection</code></a> or <a href="../../../soc/communication/MemConnection.html" title="class in soc.communication"><code>MemConnection</code></a>,
  and are integrated into server data via <a href="../../../soc/server/genericServer/Server.html#addConnection-soc.communication.Connection-"><code>addConnection(Connection)</code></a>
  called from that thread.  If the client's connection is accepted in
  <a href="../../../soc/server/genericServer/Server.html#newConnection1-soc.communication.Connection-"><code>newConnection1(Connection)</code></a>, the per-client thread enters a while-loop and
  will place each inbound message into a server-wide <a href="../../../soc/server/genericServer/Server.html#multiplexQueue"><code>multiplexQueue</code></a>,
  which is processed in a server-wide single thread called the "treater".
<P>
  Alternately the client's connection could be rejected in <tt>newConnection1</tt> for any reason,
  including too many connections versus <a href="../../../soc/server/genericServer/Server.html#getNamedConnectionCount--"><code>getNamedConnectionCount()</code></a>.
<P>
  To handle inbound messages from the clients, the server-wide "treater" thread
  of <a href="../../../soc/server/genericServer/InboundMessageQueue.html" title="class in soc.server.genericServer"><code>InboundMessageQueue</code></a> will call <a href="../../../soc/communication/SOCMessageDispatcher.html#dispatch-soc.message.SOCMessage-soc.communication.Connection-"><code>SOCMessageDispatcher.dispatch(SOCMessage, Connection)</code></a>
  for each message in the shared <a href="../../../soc/server/genericServer/Server.html#multiplexQueue"><code>multiplexQueue</code></a>.
<P>
  The first processed message over the connection will be from the server to the client,
  in <a href="../../../soc/server/genericServer/Server.html#newConnection1-soc.communication.Connection-"><code>newConnection1(Connection)</code></a> or <a href="../../../soc/server/genericServer/Server.html#newConnection2-soc.communication.Connection-"><code>newConnection2(Connection)</code></a>.
  You can send out to the client there, but can't yet receive messages from it,
  until after newConnection2 returns.
  The client should ideally be named and versioned in newConnection1, but this
  can also be done later.
<P>
  Although this generic client/server will track client versions once they are set,
  its basic protocol has no standardized way to inform server/client of each other's
  version.  You must send this in an app-specific way, during the initial exchange
  when a client connects.
<P></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Original author: <A HREF="http://www.nada.kth.se/~cristi">Cristian Bogdan</A> <br>
  Lots of mods (version "1.7") by Robert S. Thomas and Jay Budzik <br>
  Local (Connection) network system by Jeremy D Monin &lt;jeremy@nand.net&gt; <br>
  Version-tracking system, javadocs, and other minor mods by Jeremy D Monin &lt;jeremy@nand.net&gt;</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../serialized-form.html#soc.server.genericServer.Server">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.ConnExcepDelayedPrintTask.html" title="class in soc.server.genericServer">Server.ConnExcepDelayedPrintTask</a></span></code>
<div class="block">This object represents one client-connect or disconnect
 debug-print announcement within <a href="../../../soc/server/genericServer/Server.html#cliConnDisconPrintsPending"><code>cliConnDisconPrintsPending</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.MemAccepter.html" title="class in soc.server.genericServer">Server.MemAccepter</a></span></code>
<div class="block">Thread which waits for in-memory connection requests then launches a dispatcher to forward
 incoming messages to the server's multiplexing <code>InboundMessageQueue</code></div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.lang.Thread</h3>
<code>java.lang.Thread.State, java.lang.Thread.UncaughtExceptionHandler</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#CLI_CONN_PRINT_TIMER_FIRE_MS">CLI_CONN_PRINT_TIMER_FIRE_MS</a></span></code>
<div class="block">Delay before printing a client connect/arrival announcement.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#CLI_DISCON_PRINT_TIMER_FIRE_MS">CLI_DISCON_PRINT_TIMER_FIRE_MS</a></span></code>
<div class="block">Delay before printing a client disconnect error announcement.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#CLI_VERSION_SET_CONSIS_CHECK_MINUTES">CLI_VERSION_SET_CONSIS_CHECK_MINUTES</a></span></code>
<div class="block">Consistency-check the <a href="../../../soc/server/genericServer/Server.html#cliVersionsConnected"><code>cliVersionsConnected</code></a> set every so often (33 minutes).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#CLI_VERSION_SET_CONSIS_CHECK_QUICK_COUNT">CLI_VERSION_SET_CONSIS_CHECK_QUICK_COUNT</a></span></code>
<div class="block">Do this many quick consistency-checks of <a href="../../../soc/server/genericServer/Server.html#cliVersionsConnected"><code>cliVersionsConnected</code></a>
 before doing a full check.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.HashMap&lt;java.lang.Object,<a href="../../../soc/server/genericServer/Server.ConnExcepDelayedPrintTask.html" title="class in soc.server.genericServer">Server.ConnExcepDelayedPrintTask</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#cliConnDisconPrintsPending">cliConnDisconPrintsPending</a></span></code>
<div class="block">Client disconnect error messages, to be printed after a short delay
 by <a href="../../../soc/server/genericServer/Server.ConnExcepDelayedPrintTask.html" title="class in soc.server.genericServer"><code>Server.ConnExcepDelayedPrintTask</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.Hashtable&lt;java.lang.Object,<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#conns">conns</a></span></code>
<div class="block">The named connections: <a href="../../../soc/communication/Connection.html#getData--"><code>Connection.getData()</code></a> !</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.Exception</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#error">error</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../soc/communication/SOCMessageDispatcher.html" title="interface in soc.communication">SOCMessageDispatcher</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#inboundMsgDispatcher">inboundMsgDispatcher</a></span></code>
<div class="block">Dispatcher for all inbound messages from clients.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../soc/communication/MemServerSocket.html" title="class in soc.communication">MemServerSocket</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#localSocket">localSocket</a></span></code>
<div class="block">in-memory socket surrogate which waits for connection requests to be placed into the
 "accept" queue, does appropriate setup, then returns a new MemConnection</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../soc/server/genericServer/InboundMessageQueue.html" title="class in soc.server.genericServer">InboundMessageQueue</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#multiplexQueue">multiplexQueue</a></span></code>
<div class="block">The queue of messages received from all clients to dispatch, and/or Runnable tasks to run, in the
 <code>Treater</code> thread which calls <a href="../../../soc/communication/SOCMessageDispatcher.html#dispatch-soc.message.SOCMessage-soc.communication.Connection-"><code>SOCMessageDispatcher.dispatch(SOCMessage, Connection)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#numberCurrentConnections">numberCurrentConnections</a></span></code>
<div class="block">total number of current connections</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#numberOfConnections">numberOfConnections</a></span></code>
<div class="block">Total number of connections made since startup.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#port">port</a></span></code>
<div class="block">TCP port number for <a href="../../../soc/server/genericServer/Server.html#serverSocket"><code>serverSocket</code></a> when using <a href="../../../soc/server/genericServer/NetServerSocket.html" title="class in soc.server.genericServer"><code>NetServerSocket</code></a>, or -1 for
 local/Practice mode (<a href="../../../soc/communication/MemServerSocket.html" title="class in soc.communication"><code>MemServerSocket</code></a>).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.Properties</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#props">props</a></span></code>
<div class="block">Any optional properties to configure and run the server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../soc/communication/SOCServerSocket.html" title="interface in soc.communication">SOCServerSocket</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#serverSocket">serverSocket</a></span></code>
<div class="block">TCP or Practice-mode server socket.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#strSocketName">strSocketName</a></span></code>
<div class="block"><a href="../../../soc/communication/MemServerSocket.html" title="class in soc.communication"><code>MemServerSocket</code></a> name for <a href="../../../soc/server/genericServer/Server.html#serverSocket"><code>serverSocket</code></a>, or <code>null</code> for network mode.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.Vector&lt;<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#unnamedConns">unnamedConns</a></span></code>
<div class="block">the newly connected, unnamed client connections;
  Adding/removing/naming/versioning of connections synchronizes on this Vector.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#up">up</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Timer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#utilTimer">utilTimer</a></span></code>
<div class="block">Timer for scheduling timed/recurring tasks.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.lang.Thread</h3>
<code>MAX_PRIORITY, MIN_PRIORITY, NORM_PRIORITY</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#Server-int-soc.communication.SOCMessageDispatcher-java.util.Properties-">Server</a></span>(int&nbsp;port,
      <a href="../../../soc/communication/SOCMessageDispatcher.html" title="interface in soc.communication">SOCMessageDispatcher</a>&nbsp;imd,
      java.util.Properties&nbsp;props)</code>
<div class="block">a Server which will start listening to the given TCP port.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#Server-java.lang.String-soc.communication.SOCMessageDispatcher-java.util.Properties-">Server</a></span>(java.lang.String&nbsp;stringSocketName,
      <a href="../../../soc/communication/SOCMessageDispatcher.html" title="interface in soc.communication">SOCMessageDispatcher</a>&nbsp;imd,
      java.util.Properties&nbsp;props)</code>
<div class="block">A Server which will start listening to the given local string port (Practice mode).</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#addConnection-soc.communication.Connection-">addConnection</a></span>(<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c)</code>
<div class="block">Add a connection to the system.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#broadcast-soc.message.SOCMessage-">broadcast</a></span>(<a href="../../../soc/message/SOCMessage.html" title="class in soc.message">SOCMessage</a>&nbsp;m)</code>
<div class="block">Broadcast a SOCmessage to all connected clients, named and unnamed.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#broadcastToVers-soc.message.SOCMessage-int-int-">broadcastToVers</a></span>(<a href="../../../soc/message/SOCMessage.html" title="class in soc.message">SOCMessage</a>&nbsp;m,
               int&nbsp;vmin,
               int&nbsp;vmax)</code>
<div class="block">Broadcast a SOCmessage to all connected clients (named and
 unnamed) within a certain version range.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#clientVersionAdd-int-">clientVersionAdd</a></span>(int&nbsp;cvers)</code>
<div class="block">Add 1 client, with this version, to <a href="../../../soc/server/genericServer/Server.html#cliVersionsConnected"><code>cliVersionsConnected</code></a>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#clientVersionRem-int-">clientVersionRem</a></span>(int&nbsp;cvers)</code>
<div class="block">Remove 1 client, with this version, from <a href="../../../soc/server/genericServer/Server.html#cliVersionsConnected"><code>cliVersionsConnected</code></a>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#getConfigBoolProperty-java.lang.String-boolean-">getConfigBoolProperty</a></span>(java.lang.String&nbsp;pName,
                     boolean&nbsp;pDefault)</code>
<div class="block">Get and parse a boolean config property, or use its default instead.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#getConfigIntProperty-java.lang.String-int-">getConfigIntProperty</a></span>(java.lang.String&nbsp;pName,
                    int&nbsp;pDefault)</code>
<div class="block">Get and parse an integer config property, or use its default instead.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#getConnection-java.lang.String-">getConnection</a></span>(java.lang.String&nbsp;connKey)</code>
<div class="block">Given a connection's name key, return the connected client; always case-sensitive.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#getConnection-java.lang.String-boolean-">getConnection</a></span>(java.lang.String&nbsp;connKey,
             boolean&nbsp;isCaseSensitive)</code>
<div class="block">Given a connection's name key, return the connected client; optionally case-insensitive.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected java.util.Enumeration&lt;<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#getConnections--">getConnections</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#getCurrentConnectionCount--">getCurrentConnectionCount</a></span>()</code>
<div class="block">Get the current number of connections (both named and unnamed) to the server.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#getLocalSocketName--">getLocalSocketName</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#getMaxConnectedCliVersion--">getMaxConnectedCliVersion</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#getMinConnectedCliVersion--">getMinConnectedCliVersion</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#getNamedConnectionCount--">getNamedConnectionCount</a></span>()</code>
<div class="block">Get the current number of named connections to the server.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#getPort--">getPort</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#getRunConnectionCount--">getRunConnectionCount</a></span>()</code>
<div class="block">Get the total number of connections made since startup.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#isCliVersionConnected-int-">isCliVersionConnected</a></span>(int&nbsp;cvers)</code>
<div class="block">Is a client with this version number currently connected?</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#isUp--">isUp</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#leaveConnection-soc.communication.Connection-">leaveConnection</a></span>(<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c)</code>
<div class="block">placeholder for doing things when a connection is closed.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#nameConnection-soc.communication.Connection-boolean-">nameConnection</a></span>(<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
              boolean&nbsp;isReplacing)</code>
<div class="block">Name a current connection to the system.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#newConnection1-soc.communication.Connection-">newConnection1</a></span>(<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c)</code>
<div class="block">placeholder for doing things when a new connection comes, part 1 -
 decide whether to accept.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#newConnection2-soc.communication.Connection-">newConnection2</a></span>(<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c)</code>
<div class="block">placeholder for doing things when a new connection comes, part 2 -
  has been accepted and added to a connection list.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#processFirstCommand-soc.message.SOCMessage-soc.communication.Connection-">processFirstCommand</a></span>(<a href="../../../soc/message/SOCMessage.html" title="class in soc.message">SOCMessage</a>&nbsp;mes,
                   <a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;con)</code>
<div class="block">Callback to process the client's first message command specially.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#removeConnection-soc.communication.Connection-boolean-">removeConnection</a></span>(<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
                boolean&nbsp;doCleanup)</code>
<div class="block">Remove a connection from the system, and then optionally call the cleanup callback.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#removeConnectionCleanup-soc.communication.Connection-">removeConnectionCleanup</a></span>(<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c)</code>
<div class="block">Do cleanup after removing a connection.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#run--">run</a></span>()</code>
<div class="block">Run method for Server:
 First, calls the <a href="../../../soc/server/genericServer/Server.html#serverUp--"><code>serverUp()</code></a> callback.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#serverDown--">serverDown</a></span>()</code>
<div class="block">placeholder for doing things when server gets down</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#serverUp--">serverUp</a></span>()</code>
<div class="block">Placeholder (callback) for doing things when server comes up, after the server socket
 is bound and listening, in the main thread before handling any incoming connections.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../soc/server/genericServer/Server.html#stopServer--">stopServer</a></span>()</code>
<div class="block">The server is being cleanly stopped, disconnect all the connections.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Thread</h3>
<code>activeCount, checkAccess, clone, countStackFrames, currentThread, destroy, dumpStack, enumerate, getAllStackTraces, getContextClassLoader, getDefaultUncaughtExceptionHandler, getId, getName, getPriority, getStackTrace, getState, getThreadGroup, getUncaughtExceptionHandler, holdsLock, interrupt, interrupted, isAlive, isDaemon, isInterrupted, join, join, join, resume, setContextClassLoader, setDaemon, setDefaultUncaughtExceptionHandler, setName, setPriority, setUncaughtExceptionHandler, sleep, sleep, start, stop, stop, suspend, toString, yield</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="localSocket">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>localSocket</h4>
<pre><a href="../../../soc/communication/MemServerSocket.html" title="class in soc.communication">MemServerSocket</a> localSocket</pre>
<div class="block">in-memory socket surrogate which waits for connection requests to be placed into the
 "accept" queue, does appropriate setup, then returns a new MemConnection</div>
</li>
</ul>
<a name="serverSocket">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverSocket</h4>
<pre><a href="../../../soc/communication/SOCServerSocket.html" title="interface in soc.communication">SOCServerSocket</a> serverSocket</pre>
<div class="block">TCP or Practice-mode server socket.
 Runs on port number <a href="../../../soc/server/genericServer/Server.html#port"><code>port</code></a>, or <a href="../../../soc/server/genericServer/Server.html#strSocketName"><code>strSocketName</code></a> in Practice mode.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.00</dd>
</dl>
</li>
</ul>
<a name="props">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>props</h4>
<pre>protected final&nbsp;java.util.Properties props</pre>
<div class="block">Any optional properties to configure and run the server. Never null, may be empty.
<P>
 Before v2.0.00 this field was in <code>SOCServer</code>; see <a href="../../../soc/server/SOCServer.html#PROPS_LIST"><code>SOCServer.PROPS_LIST</code></a>.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.09</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#getConfigBoolProperty-java.lang.String-boolean-"><code>getConfigBoolProperty(String, boolean)</code></a>, 
<a href="../../../soc/server/genericServer/Server.html#getConfigIntProperty-java.lang.String-int-"><code>getConfigIntProperty(String, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="inboundMsgDispatcher">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inboundMsgDispatcher</h4>
<pre>protected final&nbsp;<a href="../../../soc/communication/SOCMessageDispatcher.html" title="interface in soc.communication">SOCMessageDispatcher</a> inboundMsgDispatcher</pre>
<div class="block">Dispatcher for all inbound messages from clients.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.00</dd>
</dl>
</li>
</ul>
<a name="up">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>up</h4>
<pre>boolean up</pre>
</li>
</ul>
<a name="error">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>error</h4>
<pre>protected&nbsp;java.lang.Exception error</pre>
</li>
</ul>
<a name="port">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>port</h4>
<pre>protected&nbsp;int port</pre>
<div class="block">TCP port number for <a href="../../../soc/server/genericServer/Server.html#serverSocket"><code>serverSocket</code></a> when using <a href="../../../soc/server/genericServer/NetServerSocket.html" title="class in soc.server.genericServer"><code>NetServerSocket</code></a>, or -1 for
 local/Practice mode (<a href="../../../soc/communication/MemServerSocket.html" title="class in soc.communication"><code>MemServerSocket</code></a>).</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#strSocketName"><code>strSocketName</code></a></dd>
</dl>
</li>
</ul>
<a name="strSocketName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>strSocketName</h4>
<pre>protected&nbsp;java.lang.String strSocketName</pre>
<div class="block"><a href="../../../soc/communication/MemServerSocket.html" title="class in soc.communication"><code>MemServerSocket</code></a> name for <a href="../../../soc/server/genericServer/Server.html#serverSocket"><code>serverSocket</code></a>, or <code>null</code> for network mode.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#port"><code>port</code></a></dd>
</dl>
</li>
</ul>
<a name="CLI_VERSION_SET_CONSIS_CHECK_MINUTES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CLI_VERSION_SET_CONSIS_CHECK_MINUTES</h4>
<pre>public static final&nbsp;int CLI_VERSION_SET_CONSIS_CHECK_MINUTES</pre>
<div class="block">Consistency-check the <a href="../../../soc/server/genericServer/Server.html#cliVersionsConnected"><code>cliVersionsConnected</code></a> set every so often (33 minutes).</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.06</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#soc.server.genericServer.Server.CLI_VERSION_SET_CONSIS_CHECK_MINUTES">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CLI_VERSION_SET_CONSIS_CHECK_QUICK_COUNT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CLI_VERSION_SET_CONSIS_CHECK_QUICK_COUNT</h4>
<pre>public static final&nbsp;int CLI_VERSION_SET_CONSIS_CHECK_QUICK_COUNT</pre>
<div class="block">Do this many quick consistency-checks of <a href="../../../soc/server/genericServer/Server.html#cliVersionsConnected"><code>cliVersionsConnected</code></a>
 before doing a full check.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.06</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#soc.server.genericServer.Server.CLI_VERSION_SET_CONSIS_CHECK_QUICK_COUNT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="numberOfConnections">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numberOfConnections</h4>
<pre>protected&nbsp;int numberOfConnections</pre>
<div class="block">Total number of connections made since startup.
 Returned by <a href="../../../soc/server/genericServer/Server.html#getRunConnectionCount--"><code>getRunConnectionCount()</code></a>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#numberCurrentConnections"><code>numberCurrentConnections</code></a></dd>
</dl>
</li>
</ul>
<a name="numberCurrentConnections">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numberCurrentConnections</h4>
<pre>protected&nbsp;int numberCurrentConnections</pre>
<div class="block">total number of current connections</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.06</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#numberOfConnections"><code>numberOfConnections</code></a></dd>
</dl>
</li>
</ul>
<a name="conns">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>conns</h4>
<pre>protected&nbsp;java.util.Hashtable&lt;java.lang.Object,<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&gt; conns</pre>
<div class="block">The named connections: <a href="../../../soc/communication/Connection.html#getData--"><code>Connection.getData()</code></a> != <code>null</code>.
<BR>
 <B>Locks:</B> Adding/removing/naming/versioning of connections synchronizes on <a href="../../../soc/server/genericServer/Server.html#unnamedConns"><code>unnamedConns</code></a>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#connNames"><code>connNames</code></a>, 
<a href="../../../soc/server/genericServer/Server.html#unnamedConns"><code>unnamedConns</code></a>, 
<a href="../../../soc/server/SOCServer.html#limitedConns"><code>SOCServer.limitedConns</code></a></dd>
</dl>
</li>
</ul>
<a name="unnamedConns">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unnamedConns</h4>
<pre>protected final&nbsp;java.util.Vector&lt;<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&gt; unnamedConns</pre>
<div class="block">the newly connected, unnamed client connections;
  Adding/removing/naming/versioning of connections synchronizes on this Vector.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#conns"><code>conns</code></a>, 
<a href="../../../soc/server/SOCServer.html#limitedConns"><code>SOCServer.limitedConns</code></a></dd>
</dl>
</li>
</ul>
<a name="multiplexQueue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>multiplexQueue</h4>
<pre>public final&nbsp;<a href="../../../soc/server/genericServer/InboundMessageQueue.html" title="class in soc.server.genericServer">InboundMessageQueue</a> multiplexQueue</pre>
<div class="block">The queue of messages received from all clients to dispatch, and/or Runnable tasks to run, in the
 <code>Treater</code> thread which calls <a href="../../../soc/communication/SOCMessageDispatcher.html#dispatch-soc.message.SOCMessage-soc.communication.Connection-"><code>SOCMessageDispatcher.dispatch(SOCMessage, Connection)</code></a>.
<P>
 Before v2.0.00, this was a <code>Vector</code>.</div>
</li>
</ul>
<a name="utilTimer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>utilTimer</h4>
<pre>public&nbsp;java.util.Timer utilTimer</pre>
<div class="block">Timer for scheduling timed/recurring tasks.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.06</dd>
</dl>
</li>
</ul>
<a name="cliConnDisconPrintsPending">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cliConnDisconPrintsPending</h4>
<pre>public&nbsp;java.util.HashMap&lt;java.lang.Object,<a href="../../../soc/server/genericServer/Server.ConnExcepDelayedPrintTask.html" title="class in soc.server.genericServer">Server.ConnExcepDelayedPrintTask</a>&gt; cliConnDisconPrintsPending</pre>
<div class="block">Client disconnect error messages, to be printed after a short delay
 by <a href="../../../soc/server/genericServer/Server.ConnExcepDelayedPrintTask.html" title="class in soc.server.genericServer"><code>Server.ConnExcepDelayedPrintTask</code></a>.
 If the client reconnects during the delay, the disconnect and reconnect
 messages are not printed, so long as your app removes them.
 This is only used if <a href="../../../soc/disableDebug/D.html#ebugIsEnabled--"><code>D.ebugIsEnabled()</code></a> is true.
<P>
 <em>Keys:</em> The <a href="../../../soc/communication/Connection.html" title="class in soc.communication"><code>Connection</code></a> object is used as the key
    within <a href="../../../soc/server/genericServer/Server.html#addConnection-soc.communication.Connection-"><code>addConnection(Connection)</code></a> (for the rejoining message).
    The <a href="../../../soc/communication/Connection.html#getData--"><code>connection keyname</code></a> is used as the key
    within <a href="../../../soc/server/genericServer/Server.html#removeConnection-soc.communication.Connection-boolean-"><code>removeConnection(Connection, boolean)</code></a> (for the leaving message);
    if this is null, the message is printed immediately and not added to this map.
<br>
 <em>Values:</em> A <a href="../../../soc/server/genericServer/Server.ConnExcepDelayedPrintTask.html" title="class in soc.server.genericServer"><code>Server.ConnExcepDelayedPrintTask</code></a> which will
    print the rejoining or leaving message after a delay.
<P>
 After your app (which extends Server) determines that a connection is the
 same client that just disconnected, it should find both of the tasks in
 this HashMap, call <code>TimerTask.cancel()</code> on them, and remove them.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.07</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#CLI_DISCON_PRINT_TIMER_FIRE_MS"><code>CLI_DISCON_PRINT_TIMER_FIRE_MS</code></a></dd>
</dl>
</li>
</ul>
<a name="CLI_DISCON_PRINT_TIMER_FIRE_MS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CLI_DISCON_PRINT_TIMER_FIRE_MS</h4>
<pre>public static&nbsp;int CLI_DISCON_PRINT_TIMER_FIRE_MS</pre>
<div class="block">Delay before printing a client disconnect error announcement.
 Should be at least 300 ms more than <a href="../../../soc/server/genericServer/Server.html#CLI_CONN_PRINT_TIMER_FIRE_MS"><code>CLI_CONN_PRINT_TIMER_FIRE_MS</code></a>,
 so that connects are printed before disconnects, if a connection is
 lost right away.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.07</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#cliConnDisconPrintsPending"><code>cliConnDisconPrintsPending</code></a></dd>
</dl>
</li>
</ul>
<a name="CLI_CONN_PRINT_TIMER_FIRE_MS">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CLI_CONN_PRINT_TIMER_FIRE_MS</h4>
<pre>public static&nbsp;int CLI_CONN_PRINT_TIMER_FIRE_MS</pre>
<div class="block">Delay before printing a client connect/arrival announcement.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.07</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#cliConnDisconPrintsPending"><code>cliConnDisconPrintsPending</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Server-int-soc.communication.SOCMessageDispatcher-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Server</h4>
<pre>public&nbsp;Server(int&nbsp;port,
              <a href="../../../soc/communication/SOCMessageDispatcher.html" title="interface in soc.communication">SOCMessageDispatcher</a>&nbsp;imd,
              java.util.Properties&nbsp;props)
       throws java.lang.IllegalArgumentException</pre>
<div class="block">a Server which will start listening to the given TCP port.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>port</code> - TCP port to bind to</dd>
<dd><code>props</code> - Optional properties to configure and run the server.
       If null, the properties field will be created empty.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code></dd>
</dl>
</li>
</ul>
<a name="Server-java.lang.String-soc.communication.SOCMessageDispatcher-java.util.Properties-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Server</h4>
<pre>public&nbsp;Server(java.lang.String&nbsp;stringSocketName,
              <a href="../../../soc/communication/SOCMessageDispatcher.html" title="interface in soc.communication">SOCMessageDispatcher</a>&nbsp;imd,
              java.util.Properties&nbsp;props)
       throws java.lang.IllegalArgumentException</pre>
<div class="block">A Server which will start listening to the given local string port (Practice mode).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stringSocketName</code> - Arbitrary name for string "port" to use</dd>
<dd><code>props</code> - Optional properties to configure and run the server.
       If null, the properties field will be created empty.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.00</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getConnection-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnection</h4>
<pre>public&nbsp;<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;getConnection(java.lang.String&nbsp;connKey)</pre>
<div class="block">Given a connection's name key, return the connected client; always case-sensitive.
<P>
 Before v1.2.00 this method was protected and took an Object, not String, for <code>connKey</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>connKey</code> - Case-sensitive client name key, from <a href="../../../soc/communication/Connection.html#getData--"><code>Connection.getData()</code></a>; if null, returns null</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The connection with this name, or null if not found</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#getConnection-java.lang.String-boolean-"><code>getConnection(String, boolean)</code></a>, 
<a href="../../../soc/server/SOCServer.html#getClientData-java.lang.String-"><code>SOCServer.getClientData(String)</code></a>, 
<a href="../../../soc/server/SOCServer.html#getRobotConnection-java.lang.String-"><code>SOCServer.getRobotConnection(String)</code></a></dd>
</dl>
</li>
</ul>
<a name="getConnection-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnection</h4>
<pre>public&nbsp;<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;getConnection(java.lang.String&nbsp;connKey,
                                boolean&nbsp;isCaseSensitive)</pre>
<div class="block">Given a connection's name key, return the connected client; optionally case-insensitive.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>connKey</code> - Client name key, from <a href="../../../soc/communication/Connection.html#getData--"><code>Connection.getData()</code></a>; if that's null, returns null</dd>
<dd><code>isCaseSensitive</code> - Use case-sensitive lookup for <code>connKey</code>?
     If case-insensitive, calls <code>connKey.toLowercase</code>(<code>Locale.US</code>).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The connection with this name, or null if none</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#getConnection-java.lang.String-"><code>getConnection(String)</code></a></dd>
</dl>
</li>
</ul>
<a name="getConnections--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnections</h4>
<pre>protected&nbsp;java.util.Enumeration&lt;<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&gt;&nbsp;getConnections()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of named connections: <a href="../../../soc/communication/Connection.html" title="class in soc.communication"><code>Connection</code></a>s where <a href="../../../soc/communication/Connection.html#getData--"><code>Connection.getData()</code></a>
         is not null</dd>
</dl>
</li>
</ul>
<a name="getPort--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPort</h4>
<pre>public&nbsp;int&nbsp;getPort()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the TCP port number we're listening on, if any,
   or -1 if using local string ports instead.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.12</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#getLocalSocketName--"><code>getLocalSocketName()</code></a></dd>
</dl>
</li>
</ul>
<a name="getLocalSocketName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocalSocketName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getLocalSocketName()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the local socket name we're listening on, or null if using TCP instead.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.12</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#getPort--"><code>getPort()</code></a></dd>
</dl>
</li>
</ul>
<a name="getConfigIntProperty-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConfigIntProperty</h4>
<pre>public final&nbsp;int&nbsp;getConfigIntProperty(java.lang.String&nbsp;pName,
                                      int&nbsp;pDefault)</pre>
<div class="block">Get and parse an integer config property, or use its default instead.
<P>
 Before v2.0.00 this method was <code>SOCServer.init_getIntProperty(..)</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pName</code> - Property name</dd>
<dd><code>pDefault</code> - Default value to use if not found or not parsable</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The property's parsed integer value, or <tt>pDefault</tt></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.10</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#getConfigBoolProperty-java.lang.String-boolean-"><code>getConfigBoolProperty(String, boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="getConfigBoolProperty-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConfigBoolProperty</h4>
<pre>public final&nbsp;boolean&nbsp;getConfigBoolProperty(java.lang.String&nbsp;pName,
                                           boolean&nbsp;pDefault)</pre>
<div class="block">Get and parse a boolean config property, or use its default instead.
 True values are: T Y 1.
 False values are: F N 0.
 Not case-sensitive.
 Any other value will be ignored and get <tt>pDefault</tt>.
<P>
 Before v2.0.00 this method was <code>SOCServer.init_getBoolProperty(..)</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pName</code> - Property name</dd>
<dd><code>pDefault</code> - Default value to use if not found or not parsable</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The property's parsed value, or <tt>pDefault</tt></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.14</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#getConfigIntProperty-java.lang.String-int-"><code>getConfigIntProperty(String, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="getRunConnectionCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRunConnectionCount</h4>
<pre>public final&nbsp;int&nbsp;getRunConnectionCount()</pre>
<div class="block">Get the total number of connections made since startup.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.2.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#getCurrentConnectionCount--"><code>getCurrentConnectionCount()</code></a></dd>
</dl>
</li>
</ul>
<a name="getNamedConnectionCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNamedConnectionCount</h4>
<pre>public final&nbsp;int&nbsp;getNamedConnectionCount()</pre>
<div class="block">Get the current number of named connections to the server.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the count of named connections: <a href="../../../soc/communication/Connection.html" title="class in soc.communication"><code>Connection</code></a>s where <a href="../../../soc/communication/Connection.html#getData--"><code>Connection.getData()</code></a>
         is not null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#getCurrentConnectionCount--"><code>getCurrentConnectionCount()</code></a></dd>
</dl>
</li>
</ul>
<a name="getCurrentConnectionCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentConnectionCount</h4>
<pre>public final&nbsp;int&nbsp;getCurrentConnectionCount()</pre>
<div class="block">Get the current number of connections (both named and unnamed) to the server.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the count of connections, both unnamed and named
         (<a href="../../../soc/communication/Connection.html#getData--"><code>Connection.getData()</code></a> not null).</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.13</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#getRunConnectionCount--"><code>getRunConnectionCount()</code></a>, 
<a href="../../../soc/server/genericServer/Server.html#getNamedConnectionCount--"><code>getNamedConnectionCount()</code></a></dd>
</dl>
</li>
</ul>
<a name="isUp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUp</h4>
<pre>public&nbsp;boolean&nbsp;isUp()</pre>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">Run method for Server:
 First, calls the <a href="../../../soc/server/genericServer/Server.html#serverUp--"><code>serverUp()</code></a> callback.
 Then starts a single "dispatcher" thread for processing inbound messages,
 then waits for new connections and sets up each one in its own thread.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>run</code>&nbsp;in class&nbsp;<code>java.lang.Thread</code></dd>
</dl>
</li>
</ul>
<a name="processFirstCommand-soc.message.SOCMessage-soc.communication.Connection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processFirstCommand</h4>
<pre>public&nbsp;boolean&nbsp;processFirstCommand(<a href="../../../soc/message/SOCMessage.html" title="class in soc.message">SOCMessage</a>&nbsp;mes,
                                   <a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;con)</pre>
<div class="block">Callback to process the client's first message command specially.
 This default implementation does nothing and returns false;
 override it in your app if needed.
<P>
 Unlike most inbound message dispatching, processFirstCommand() runs in
 the connection subclass's thread, not any server main thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mes</code> - Contents of first message from the client,
     or <code>null</code> if that message couldn't be parsed</dd>
<dd><code>con</code> - Connection (client) sending this message</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if processed here, false if this message should be
     queued up and processed as normal by
     <a href="../../../soc/communication/SOCMessageDispatcher.html#dispatch-soc.message.SOCMessage-soc.communication.Connection-"><code>SOCMessageDispatcher.dispatch(SOCMessage, Connection)</code></a>.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.06</dd>
</dl>
</li>
</ul>
<a name="serverUp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverUp</h4>
<pre>protected&nbsp;void&nbsp;serverUp()</pre>
<div class="block">Placeholder (callback) for doing things when server comes up, after the server socket
 is bound and listening, in the main thread before handling any incoming connections.
<P>
 Once this method completes, server begins its main loop of listening for incoming
 client connections, and starting a Thread for each one to handle that client's messages.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.09</dd>
</dl>
</li>
</ul>
<a name="serverDown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverDown</h4>
<pre>protected&nbsp;void&nbsp;serverDown()</pre>
<div class="block">placeholder for doing things when server gets down</div>
</li>
</ul>
<a name="newConnection1-soc.communication.Connection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newConnection1</h4>
<pre>protected&nbsp;boolean&nbsp;newConnection1(<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c)</pre>
<div class="block">placeholder for doing things when a new connection comes, part 1 -
 decide whether to accept.
 Unless you override this method, always returns true.
 This is called within <a href="../../../soc/server/genericServer/Server.html#addConnection-soc.communication.Connection-"><code>addConnection(Connection)</code></a>.
<P>
 If the connection is accepted, it's added to a list (<a href="../../../soc/server/genericServer/Server.html#unnamedConns"><code>unnamedConns</code></a>
 or <a href="../../../soc/server/genericServer/Server.html#conns"><code>conns</code></a>), and also added to the version collection.
<P>
 This method is called within a per-client thread.
 You can send to client, but can't yet receive messages from them.
<P>
 Should send a message to the client in either <a href="../../../soc/server/genericServer/Server.html#newConnection1-soc.communication.Connection-"><code>newConnection1(Connection)</code></a>
 or <a href="../../../soc/server/genericServer/Server.html#newConnection2-soc.communication.Connection-"><code>newConnection2(Connection)</code></a>.
 You may also name the connection here by calling
 <a href="../../../soc/communication/Connection.html#setData-java.lang.String-"><code>c.setData(name)</code></a>,
 which will help add to conns or unnamedConns.
 This is also where the version should be set.
<P>
 Note that <a href="../../../soc/server/genericServer/Server.html#addConnection-soc.communication.Connection-"><code>addConnection(Connection)</code></a> won't close the channel or
 take other action to disconnect a rejected client.
<P>
 SYNCHRONIZATION NOTE: During the call to newConnection1, the monitor lock of
 <a href="../../../soc/server/genericServer/Server.html#unnamedConns"><code>unnamedConns</code></a> is held.  Thus, defer as much as possible until
 <a href="../../../soc/server/genericServer/Server.html#newConnection2-soc.communication.Connection-"><code>newConnection2(Connection)</code></a> (after the connection is accepted).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - incoming connection to evaluate and act on</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true to accept and continue, false if you have rejected this connection;
         if false, addConnection will call <a href="../../../soc/communication/Connection.html#disconnectSoft--"><code>Connection.disconnectSoft()</code></a>.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#addConnection-soc.communication.Connection-"><code>addConnection(Connection)</code></a>, 
<a href="../../../soc/server/genericServer/Server.html#newConnection2-soc.communication.Connection-"><code>newConnection2(Connection)</code></a>, 
<a href="../../../soc/server/genericServer/Server.html#nameConnection-soc.communication.Connection-boolean-"><code>nameConnection(Connection, boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="newConnection2-soc.communication.Connection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newConnection2</h4>
<pre>protected&nbsp;void&nbsp;newConnection2(<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c)</pre>
<div class="block">placeholder for doing things when a new connection comes, part 2 -
  has been accepted and added to a connection list.
  Unlike <a href="../../../soc/server/genericServer/Server.html#newConnection1-soc.communication.Connection-"><code>newConnection1(Connection)</code></a>,
  no connection-list locks are held when this method is called.
  This is called within <a href="../../../soc/server/genericServer/Server.html#addConnection-soc.communication.Connection-"><code>addConnection(Connection)</code></a>.
<P>
  This method is called within a per-client thread.
  You can send to client, but can't yet receive messages from them.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.00</dd>
</dl>
</li>
</ul>
<a name="leaveConnection-soc.communication.Connection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>leaveConnection</h4>
<pre>protected&nbsp;void&nbsp;leaveConnection(<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c)</pre>
<div class="block">placeholder for doing things when a connection is closed.
  Called after connection is removed from conns collection
  and version collection, and after c.disconnect() has been called.
<P>
 This method is called within a per-client thread.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#removeConnectionCleanup-soc.communication.Connection-"><code>removeConnectionCleanup(Connection)</code></a></dd>
</dl>
</li>
</ul>
<a name="stopServer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopServer</h4>
<pre>public&nbsp;void&nbsp;stopServer()</pre>
<div class="block">The server is being cleanly stopped, disconnect all the connections.
 Calls <a href="../../../soc/server/genericServer/Server.html#serverDown--"><code>serverDown()</code></a> before disconnect; if your child class has more work
 to do (such as sending a final message to all clients, or
 disconnecting from a database), override serverDown() or stopServer().
 Check <a href="../../../soc/server/genericServer/Server.html#isUp--"><code>isUp()</code></a> before calling.</div>
</li>
</ul>
<a name="removeConnection-soc.communication.Connection-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeConnection</h4>
<pre>public&nbsp;void&nbsp;removeConnection(<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
                             boolean&nbsp;doCleanup)</pre>
<div class="block">Remove a connection from the system, and then optionally call the cleanup callback.
 The callback <a href="../../../soc/server/genericServer/Server.html#leaveConnection-soc.communication.Connection-"><code>leaveConnection(Connection)</code></a> will be called,
 after calling <a href="../../../soc/communication/Connection.html#disconnect--"><code>Connection.disconnect()</code></a> on c.
 If <code>doCleanup</code>, the callback <a href="../../../soc/server/genericServer/Server.html#removeConnectionCleanup-soc.communication.Connection-"><code>removeConnectionCleanup(Connection)</code></a>
 will be called afterwards.
<P>
<B>Locks:</B> Synchronized on list of connections.
 This method is called within a per-client thread.
 The add to <a href="../../../soc/server/genericServer/Server.html#cliConnDisconPrintsPending"><code>cliConnDisconPrintsPending</code></a> is unsynchronized.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - Connection to remove; will call its disconnect() method and remove it from the server state.
     <a href="../../../soc/communication/Connection.html#getData--"><code>Connection.getData()</code></a> may be null.</dd>
<dd><code>doCleanup</code> - If true, will also call <a href="../../../soc/server/genericServer/Server.html#removeConnectionCleanup-soc.communication.Connection-"><code>removeConnectionCleanup(Connection)</code></a>.</dd>
</dl>
</li>
</ul>
<a name="removeConnectionCleanup-soc.communication.Connection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeConnectionCleanup</h4>
<pre>protected&nbsp;void&nbsp;removeConnectionCleanup(<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c)</pre>
<div class="block">Do cleanup after removing a connection. This is a generic stub that subclass servers can override.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#leaveConnection-soc.communication.Connection-"><code>leaveConnection(Connection)</code></a></dd>
</dl>
</li>
</ul>
<a name="addConnection-soc.communication.Connection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addConnection</h4>
<pre>public&nbsp;void&nbsp;addConnection(<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c)
                   throws java.lang.IllegalArgumentException</pre>
<div class="block">Add a connection to the system.
 Called within a per-client thread.
 <a href="../../../soc/communication/Connection.html#connect-boolean-"><code>Connection.connect( boolean )</code></a> is called at the start of this method.
<P>
 App-specific work should be done by overriding
 <a href="../../../soc/server/genericServer/Server.html#newConnection1-soc.communication.Connection-"><code>newConnection1(Connection)</code></a> and
 <a href="../../../soc/server/genericServer/Server.html#newConnection2-soc.communication.Connection-"><code>newConnection2(Connection)</code></a>.
 The connection naming and version is checked here (after newConnection1).
<P>
 <b>Locking:</b> Synchronized on unnamedConns, although
 named conns (getData not null) are added to conns, not unnamedConns.
 The add to <a href="../../../soc/server/genericServer/Server.html#cliConnDisconPrintsPending"><code>cliConnDisconPrintsPending</code></a> is unsynchronized.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - Connecting client; its name key (<a href="../../../soc/communication/Connection.html#getData--"><code>Connection.getData()</code></a>) may be null.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if there's already a connection using <code>c</code>'s name key (case-insensitive)</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#nameConnection-soc.communication.Connection-boolean-"><code>nameConnection(Connection, boolean)</code></a>, 
<a href="../../../soc/server/genericServer/Server.html#removeConnection-soc.communication.Connection-boolean-"><code>removeConnection(Connection, boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="nameConnection-soc.communication.Connection-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nameConnection</h4>
<pre>public&nbsp;void&nbsp;nameConnection(<a href="../../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
                           boolean&nbsp;isReplacing)
                    throws java.lang.IllegalArgumentException</pre>
<div class="block">Name a current connection to the system.
 Call c.setData(name) just before calling this method.
 Can be called once per connection (once named, cannot be changed).
 Synchronized on <a href="../../../soc/server/genericServer/Server.html#unnamedConns"><code>unnamedConns</code></a>.
<P>
 If you name the connection inside <a href="../../../soc/server/genericServer/Server.html#newConnection1-soc.communication.Connection-"><code>newConnection1(Connection)</code></a>,
 you don't need to call nameConnection, because it hasn't yet been added
 to a connection list.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - Connected client; its name key (<a href="../../../soc/communication/Connection.html#getData--"><code>Connection.getData()</code></a>) must not be null</dd>
<dd><code>isReplacing</code> - Are we replacing / taking over a current connection?</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - If c isn't already connected, if c.getData() returns null,
          nameConnection has previously been called for this connection, or there's already
          a connection with this name (case-insensitive) and <code>! isReplacing</code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#addConnection-soc.communication.Connection-"><code>addConnection(Connection)</code></a>, 
<a href="../../../soc/server/genericServer/Server.html#getConnection-java.lang.String-boolean-"><code>getConnection(String, boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="clientVersionAdd-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientVersionAdd</h4>
<pre>public&nbsp;void&nbsp;clientVersionAdd(int&nbsp;cvers)</pre>
<div class="block">Add 1 client, with this version, to <a href="../../../soc/server/genericServer/Server.html#cliVersionsConnected"><code>cliVersionsConnected</code></a>.
<P>
 <b>Locks:</b> Caller should synchronize on <a href="../../../soc/server/genericServer/Server.html#unnamedConns"><code>unnamedConns</code></a>,
   and call just before incrementing <a href="../../../soc/server/genericServer/Server.html#numberCurrentConnections"><code>numberCurrentConnections</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cvers</code> - Client version number, from <a href="../../../soc/communication/Connection.html#getRemoteVersion--"><code>Connection.getRemoteVersion()</code></a>.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.06</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#clientVersionRem-int-"><code>clientVersionRem(int)</code></a>, 
<a href="../../../soc/server/genericServer/Server.html#getMinConnectedCliVersion--"><code>getMinConnectedCliVersion()</code></a>, 
<a href="../../../soc/server/genericServer/Server.html#getMaxConnectedCliVersion--"><code>getMaxConnectedCliVersion()</code></a></dd>
</dl>
</li>
</ul>
<a name="clientVersionRem-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientVersionRem</h4>
<pre>public&nbsp;void&nbsp;clientVersionRem(int&nbsp;cvers)</pre>
<div class="block">Remove 1 client, with this version, from <a href="../../../soc/server/genericServer/Server.html#cliVersionsConnected"><code>cliVersionsConnected</code></a>.
<P>
 <b>Locks:</b> Caller should synchronize on <a href="../../../soc/server/genericServer/Server.html#unnamedConns"><code>unnamedConns</code></a>,
   right after decrementing numberCurrentConnections (in case a consistency-check
   is called from here).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cvers</code> - Client version number, from <a href="../../../soc/communication/Connection.html#getRemoteVersion--"><code>Connection.getRemoteVersion()</code></a>.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.06</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#clientVersionAdd-int-"><code>clientVersionAdd(int)</code></a>, 
<a href="../../../soc/server/genericServer/Server.html#getMinConnectedCliVersion--"><code>getMinConnectedCliVersion()</code></a>, 
<a href="../../../soc/server/genericServer/Server.html#getMaxConnectedCliVersion--"><code>getMaxConnectedCliVersion()</code></a></dd>
</dl>
</li>
</ul>
<a name="getMinConnectedCliVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinConnectedCliVersion</h4>
<pre>public&nbsp;int&nbsp;getMinConnectedCliVersion()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the version number of the oldest-version client
         that is currently connected</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.06</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#isCliVersionConnected-int-"><code>isCliVersionConnected(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="getMaxConnectedCliVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxConnectedCliVersion</h4>
<pre>public&nbsp;int&nbsp;getMaxConnectedCliVersion()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the version number of the newest-version client
         that is currently connected</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.06</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#isCliVersionConnected-int-"><code>isCliVersionConnected(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="isCliVersionConnected-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCliVersionConnected</h4>
<pre>public&nbsp;boolean&nbsp;isCliVersionConnected(int&nbsp;cvers)</pre>
<div class="block">Is a client with this version number currently connected?</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cvers</code> - Client version number, from <a href="../../../soc/communication/Connection.html#getRemoteVersion--"><code>Connection.getRemoteVersion()</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if a client of this version is currently connected,
    according to calls to <a href="../../../soc/server/genericServer/Server.html#clientVersionAdd-int-"><code>clientVersionAdd(int)</code></a>
    and <a href="../../../soc/server/genericServer/Server.html#clientVersionRem-int-"><code>clientVersionRem(int)</code></a></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.13</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#getMinConnectedCliVersion--"><code>getMinConnectedCliVersion()</code></a>, 
<a href="../../../soc/server/genericServer/Server.html#getMaxConnectedCliVersion--"><code>getMaxConnectedCliVersion()</code></a></dd>
</dl>
</li>
</ul>
<a name="broadcast-soc.message.SOCMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>broadcast</h4>
<pre>public&nbsp;void&nbsp;broadcast(<a href="../../../soc/message/SOCMessage.html" title="class in soc.message">SOCMessage</a>&nbsp;m)
               throws java.lang.IllegalArgumentException</pre>
<div class="block">Broadcast a SOCmessage to all connected clients, named and unnamed.
 Nearly all callers should instead use <a href="../../../soc/server/genericServer/Server.html#broadcast-soc.message.SOCMessage-"><code>broadcast(SOCMessage)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>m</code> - SOCmessage string, generated by <a href="../../../soc/message/SOCMessage.html#toCmd--"><code>SOCMessage.toCmd()</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>m</code> is <code>null</code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#broadcast-soc.message.SOCMessage-"><code>broadcast(SOCMessage)</code></a>, 
<code>#broadcastToVers(String, int, int)</code></dd>
</dl>
</li>
</ul>
<a name="broadcastToVers-soc.message.SOCMessage-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>broadcastToVers</h4>
<pre>protected&nbsp;void&nbsp;broadcastToVers(<a href="../../../soc/message/SOCMessage.html" title="class in soc.message">SOCMessage</a>&nbsp;m,
                               int&nbsp;vmin,
                               int&nbsp;vmax)
                        throws java.lang.IllegalArgumentException</pre>
<div class="block">Broadcast a SOCmessage to all connected clients (named and
 unnamed) within a certain version range.
<P>
 The range is inclusive: Clients of version <tt>vmin</tt> and newer,
 up to and including <tt>vmax</tt>, receive the broadcast.
 If vmin > vmax, do nothing.
<P>
 Nearly all callers should instead call <a href="../../../soc/server/genericServer/Server.html#broadcastToVers-soc.message.SOCMessage-int-int-"><code>broadcastToVers(SOCMessage, int, int)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>m</code> - SOCmessage string, generated by <a href="../../../soc/message/SOCMessage.html#toCmd--"><code>SOCMessage.toCmd()</code></a></dd>
<dd><code>vmin</code> - Minimum version, as returned by <a href="../../../soc/communication/Connection.html#getRemoteVersion--"><code>Connection.getRemoteVersion()</code></a>,
             or <code>Integer.MIN_VALUE</code></dd>
<dd><code>vmax</code> - Maximum version, or <code>Integer.MAX_VALUE</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>m</code> is <code>null</code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.06</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../soc/server/genericServer/Server.html#broadcast-soc.message.SOCMessage-"><code>broadcast(SOCMessage)</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../soc/server/genericServer/NetServerSocket.html" title="class in soc.server.genericServer"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../soc/server/genericServer/Server.ConnExcepDelayedPrintTask.html" title="class in soc.server.genericServer"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?soc/server/genericServer/Server.html" target="_top">Frames</a></li>
<li><a href="Server.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
