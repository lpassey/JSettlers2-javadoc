<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>SOCGameHandler (JSettlers 3.0.4 API)</title>
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SOCGameHandler (JSettlers 3.0.4 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":9,"i8":9,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../soc/server/SOCForceEndTurnThread.html" title="class in soc.server"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../soc/server/SOCGameListAtServer.html" title="class in soc.server"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?soc/server/SOCGameHandler.html" target="_top">Frames</a></li>
<li><a href="SOCGameHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">soc.server</div>
<h2 title="Class SOCGameHandler" class="title">Class SOCGameHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../soc/server/GameHandler.html" title="class in soc.server">soc.server.GameHandler</a></li>
<li>
<ul class="inheritance">
<li>soc.server.SOCGameHandler</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../soc/game/SOCGameEventListener.html" title="interface in soc.game">SOCGameEventListener</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">SOCGameHandler</span>
extends <a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a>
implements <a href="../../soc/game/SOCGameEventListener.html" title="interface in soc.game">SOCGameEventListener</a></pre>
<div class="block">Server class to handle game-specific actions and messages for the SoC game type.
 Clients' inbound messages are received by <a href="../../soc/server/SOCGameMessageHandler.html" title="class in soc.server"><code>SOCGameMessageHandler</code></a>, which
 calls this game handler for frequently used game logic and response methods.
 Use <a href="../../soc/server/SOCGameHandler.html#getMessageHandler--"><code>getMessageHandler()</code></a> to obtain the game handler's message handler.
<P>
 Before v2.0.00, these methods and fields were part of <a href="../../soc/server/SOCServer.html" title="class in soc.server"><code>SOCServer</code></a>.
 So, some may have <code>@since</code> javadoc labels with versions older than 2.0.00.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.00</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Jeremy D Monin &lt;jeremy@nand.net&gt;</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#DESTROY_BOT_ONLY_GAMES_WHEN_OVER">DESTROY_BOT_ONLY_GAMES_WHEN_OVER</a></span></code>
<div class="block">To clean up during automated tests, should robot-only games be destroyed as soon as they're over?</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../soc/message/SOCPlayerElement.PEType.html" title="enum in soc.message">SOCPlayerElement.PEType</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#ELEM_RESOURCES">ELEM_RESOURCES</a></span></code>
<div class="block">The 5 resource types, for sending <a href="../../soc/message/SOCPlayerElements.html" title="class in soc.message"><code>SOCPlayerElements</code></a>:
 <a href="../../soc/message/SOCPlayerElement.PEType.html#CLAY"><code>SOCPlayerElement.PEType.CLAY</code></a>, ORE, SHEEP, WHEAT, <a href="../../soc/message/SOCPlayerElement.PEType.html#WOOD"><code>SOCPlayerElement.PEType.WOOD</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../soc/message/SOCPlayerElement.PEType.html" title="enum in soc.message">SOCPlayerElement.PEType</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#ELEM_RESOURCES_WITH_UNKNOWN">ELEM_RESOURCES_WITH_UNKNOWN</a></span></code>
<div class="block">The 5 resource types plus Unknown, for sending <a href="../../soc/message/SOCPlayerElements.html" title="class in soc.message"><code>SOCPlayerElements</code></a>:
 <a href="../../soc/message/SOCPlayerElement.PEType.html#CLAY"><code>SOCPlayerElement.PEType.CLAY</code></a>, ORE, SHEEP, WHEAT, <a href="../../soc/message/SOCPlayerElement.PEType.html#WOOD"><code>SOCPlayerElement.PEType.WOOD</code></a>,
 <a href="../../soc/message/SOCPlayerElement.PEType.html#UNKNOWN_RESOURCE"><code>SOCPlayerElement.PEType.UNKNOWN_RESOURCE</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#ROBOT_FORCE_ENDTURN_TRADEOFFER_SECONDS">ROBOT_FORCE_ENDTURN_TRADEOFFER_SECONDS</a></span></code>
<div class="block">Force robot to end their turn after this much inactivity,
 while they've made a trade offer.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.soc.server.GameHandler">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;soc.server.<a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a></h3>
<code><a href="../../soc/server/GameHandler.html#srv">srv</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#SOCGameHandler-soc.server.SOCServer-">SOCGameHandler</a></span>(<a href="../../soc/server/SOCServer.html" title="class in soc.server">SOCServer</a>&nbsp;server)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#calcGameClientFeaturesRequired-soc.game.SOCGame-">calcGameClientFeaturesRequired</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga)</code>
<div class="block">When creating a new game at the server, check its options and
 if any of them require any optional client features, calculate
 the required features and call <a href="../../soc/game/SOCGame.html#setClientFeaturesRequired-soc.util.SOCFeatureSet-"><code>SOCGame.setClientFeaturesRequired(soc.util.SOCFeatureSet)</code></a>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#checkTurn-soc.communication.Connection-soc.game.SOCGame-">checkTurn</a></span>(<a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
         <a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga)</code>
<div class="block">Make sure it's the player's turn.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#endGameTurn-soc.game.SOCGame-soc.game.SOCPlayer-boolean-">endGameTurn</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
           <a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;pl,
           boolean&nbsp;callEndTurn)</code>
<div class="block">Pre-checking already done, end the current player's turn in this game.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#endGameTurnOrForce-soc.game.SOCGame-int-java.lang.String-soc.communication.Connection-boolean-">endGameTurnOrForce</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                  int&nbsp;plNumber,
                  java.lang.String&nbsp;plName,
                  <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;plConn,
                  boolean&nbsp;hasMonitorFromGameList)</code>
<div class="block">A bot is unresponsive, or a human player has left the game.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#endTurnIfInactive-soc.game.SOCGame-long-">endTurnIfInactive</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                 long&nbsp;currentTimeMillis)</code>
<div class="block">The server's timer thread thinks this game is inactive because of a robot bug.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#findRobotAskJoinGame-soc.game.SOCGame-java.lang.Object-boolean-">findRobotAskJoinGame</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                    java.lang.Object&nbsp;seatNumberObj,
                    boolean&nbsp;gameIsActive)</code>
<div class="block">When a human player has left an active game, or a game is starting and a
 bot from that game's <a href="../../soc/server/SOCServer.html#robotJoinRequests"><code>SOCServer.robotJoinRequests</code></a> has disconnected,
 look for a robot player which can take a seat and continue the game.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#gameEvent-soc.game.SOCGame-soc.game.SOCGameEvent-java.lang.Object-">gameEvent</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
         <a href="../../soc/game/SOCGameEvent.html" title="enum in soc.game">SOCGameEvent</a>&nbsp;evt,
         java.lang.Object&nbsp;detail)</code>
<div class="block">Listener callback for scenario events on the large sea board which affect the game or board,
 not a specific player.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static <a href="../../soc/message/SOCPotentialSettlements.html" title="class in soc.message">SOCPotentialSettlements</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#gatherBoardPotentials-soc.game.SOCGame-int-">gatherBoardPotentials</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;gameData,
                     int&nbsp;cliVers)</code>
<div class="block">Players' potential settlements and related values.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static <a href="../../soc/message/SOCMessage.html" title="class in soc.message">SOCMessage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#getBoardLayoutMessage-soc.game.SOCGame-">getBoardLayoutMessage</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga)</code>
<div class="block">Put together the board layout message for this game.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#getDebugCommandsHelp--">getDebugCommandsHelp</a></span>()</code>
<div class="block">Get the debug commands for this game type, if any, used with
 <a href="../../soc/server/GameHandler.html#processDebugCommand-soc.communication.Connection-soc.game.SOCGame-java.lang.String-java.lang.String-"><code>GameHandler.processDebugCommand(Connection, SOCGame, String, String)</code></a>.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../soc/server/GameMessageHandler.html" title="interface in soc.server">GameMessageHandler</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#getMessageHandler--">getMessageHandler</a></span>()</code>
<div class="block">Get this game type's GameMessageHandler.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#joinGame-soc.game.SOCGame-soc.communication.Connection-boolean-boolean-boolean-">joinGame</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;gameData,
        <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
        boolean&nbsp;isReset,
        boolean&nbsp;isLoading,
        boolean&nbsp;isRejoinOrLoadgame)</code>
<div class="block">Client has been approved to join game; send JOINGAMEAUTH and the entire state of the game to client.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#leaveGame-soc.game.SOCGame-soc.communication.Connection-boolean-boolean-">leaveGame</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
         <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
         boolean&nbsp;hasReplacement,
         boolean&nbsp;hasHumanReplacement)</code>
<div class="block">This member (player or observer) has left the game.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#playerEvent-soc.game.SOCGame-soc.game.SOCPlayer-soc.game.SOCPlayerEvent-boolean-java.lang.Object-">playerEvent</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
           <a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;pl,
           <a href="../../soc/game/SOCPlayerEvent.html" title="enum in soc.game">SOCPlayerEvent</a>&nbsp;evt,
           boolean&nbsp;flagsChanged,
           java.lang.Object&nbsp;obj)</code>
<div class="block">Listener callback for per-player game/scenario events on the large sea board.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#processDebugCommand_freePlace-soc.communication.Connection-soc.game.SOCGame-java.lang.String-">processDebugCommand_freePlace</a></span>(<a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
                             <a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                             java.lang.String&nbsp;arg)</code>
<div class="block">Process the <tt>*FREEPLACE*</tt> Free Placement debug command.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#processDebugCommand-soc.communication.Connection-soc.game.SOCGame-java.lang.String-java.lang.String-">processDebugCommand</a></span>(<a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;debugCli,
                   <a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                   java.lang.String&nbsp;dcmd,
                   java.lang.String&nbsp;dcmdU)</code>
<div class="block">Look for a potential debug command in a text message sent by the "debug" client/player.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#reportBankTrade-soc.game.SOCGame-soc.game.SOCResourceSet-soc.game.SOCResourceSet-">reportBankTrade</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;game,
               <a href="../../soc/game/SOCResourceSet.html" title="class in soc.game">SOCResourceSet</a>&nbsp;give,
               <a href="../../soc/game/SOCResourceSet.html" title="class in soc.game">SOCResourceSet</a>&nbsp;get)</code>
<div class="block">report that the current player traded with the bank or a port,
 using <a href="../../soc/message/SOCPlayerElement.html" title="class in soc.message"><code>SOCPlayerElement</code></a> and <a href="../../soc/message/SOCBankTrade.html" title="class in soc.message"><code>SOCBankTrade</code></a> messages
 (or <a href="../../soc/message/SOCGameTextMsg.html" title="class in soc.message"><code>SOCGameTextMsg</code></a> to older clients).</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#reportLongestRoadIfChanged-soc.game.SOCGame-soc.game.SOCPlayer-boolean-">reportLongestRoadIfChanged</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                          <a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;prevLongestRoadPlayer,
                          boolean&nbsp;hasGameMonitor)</code>
<div class="block">Check whether game's Longest Road/Longest Route player has changed, announce to game if so: Sends
 <a href="../../soc/message/SOCGameElements.html" title="class in soc.message"><code>SOCGameElements</code></a>(<a href="../../soc/message/SOCGameElements.GEType.html#LONGEST_ROAD_PLAYER"><code>LONGEST_ROAD_PLAYER</code></a>)
 or (for v1.x clients) <a href="../../soc/message/SOCLongestRoad.html" title="class in soc.message"><code>SOCLongestRoad</code></a>.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#reportRobbery-soc.game.SOCGame-soc.game.SOCPlayer-soc.game.SOCPlayer-int-">reportRobbery</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;game,
             <a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;perp,
             <a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;victim,
             int&nbsp;rsrc)</code>
<div class="block">The current player is stealing from another player.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#reportRsrcGainGold-soc.game.SOCGame-soc.game.SOCPlayer-int-soc.game.SOCResourceSet-boolean-boolean-">reportRsrcGainGold</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                  <a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;player,
                  int&nbsp;pn,
                  <a href="../../soc/game/SOCResourceSet.html" title="class in soc.game">SOCResourceSet</a>&nbsp;rsrcs,
                  boolean&nbsp;isNews,
                  boolean&nbsp;includeGoldHexText)</code>
<div class="block">Report to game members what a player picked from the gold hex.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#reportRsrcGainLoss-soc.game.SOCGame-soc.game.ResourceSet-boolean-boolean-int-int-soc.communication.Connection-">reportRsrcGainLoss</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                  <a href="../../soc/game/ResourceSet.html" title="interface in soc.game">ResourceSet</a>&nbsp;resourceSet,
                  boolean&nbsp;isLoss,
                  boolean&nbsp;isNews,
                  int&nbsp;mainPlayer,
                  int&nbsp;tradingPlayer,
                  <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;playerConn)</code>
<div class="block">Report the resources gained/lost by a player, and optionally (for trading)
 lost/gained by a second player.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#reportRsrcGainLossForVersions-soc.game.SOCGame-soc.game.ResourceSet-boolean-boolean-int-int-soc.communication.Connection-int-">reportRsrcGainLossForVersions</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                             <a href="../../soc/game/ResourceSet.html" title="interface in soc.game">ResourceSet</a>&nbsp;resourceSet,
                             boolean&nbsp;isLoss,
                             boolean&nbsp;isNews,
                             int&nbsp;mainPlayer,
                             int&nbsp;tradingPlayer,
                             <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;playerConn,
                             int&nbsp;vmax)</code>
<div class="block">Report the resources gained/lost by a player, and optionally (for trading)
 lost/gained by a second player, to older client version connections in a game.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#reportTrade-soc.game.SOCGame-int-int-">reportTrade</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
           int&nbsp;offering,
           int&nbsp;accepting)</code>
<div class="block">Report a trade that has taken place between players, using <a href="../../soc/message/SOCPlayerElement.html" title="class in soc.message"><code>SOCPlayerElement</code></a>.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#sendGamePendingMessages-soc.game.SOCGame-boolean-">sendGamePendingMessages</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                       boolean&nbsp;takeMon)</code>
<div class="block">Sends the contents of this game's <a href="../../soc/game/SOCGame.html#pendingMessagesOut"><code>SOCGame.pendingMessagesOut</code></a> and its players'
 <a href="../../soc/game/SOCPlayer.html#pendingMessagesOut"><code>SOCPlayer.pendingMessagesOut</code></a>, then empties those lists.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#sendGameState_sendDiscardRequests-soc.game.SOCGame-java.lang.String-">sendGameState_sendDiscardRequests</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                                 java.lang.String&nbsp;gaName)</code>
<div class="block">If any player needs to discard, prompt them to discard half (round down);
 call in game state <a href="../../soc/game/GameState.html#WAITING_FOR_DISCARDS"><code>GameState.WAITING_FOR_DISCARDS</code></a> after calling <a href="../../soc/server/SOCGameHandler.html#sendGameState-soc.game.SOCGame-"><code>sendGameState(SOCGame)</code></a>.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#sendGameState_sendGoldPickAnnounceText-soc.game.SOCGame-java.lang.String-soc.communication.Connection-soc.game.SOCGame.RollResult-">sendGameState_sendGoldPickAnnounceText</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                                      java.lang.String&nbsp;gname,
                                      <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;playerCon,
                                      <a href="../../soc/game/SOCGame.RollResult.html" title="class in soc.game">SOCGame.RollResult</a>&nbsp;roll)</code>
<div class="block">Send a game text message "x, y, and z need to pick resources from the gold hex."</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#sendGameState-soc.game.SOCGame-">sendGameState</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga)</code>
<div class="block">Send all game members the current state of the game with a <a href="../../soc/message/SOCGameState.html" title="class in soc.message"><code>SOCGameState</code></a> message.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#sendGameState-soc.game.SOCGame-boolean-boolean-">sendGameState</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;theGame,
             boolean&nbsp;omitGameStateMessage,
             boolean&nbsp;sendRollPrompt)</code>
<div class="block">Send all game members the current state of the game with a message.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#sendTradeOffer-soc.game.SOCPlayer-soc.communication.Connection-">sendTradeOffer</a></span>(<a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;player,
              <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;toJoiningClient)</code>
<div class="block">Announces this player's new trade offer to their game,
 or send that info to one client that's joining the game now.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#sendTurn-soc.game.SOCGame-boolean-">sendTurn</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;theGame,
        boolean&nbsp;sendRollPrompt)</code>
<div class="block">At start of a new turn, send game its new <a href="../../soc/game/SOCGame.html#getGameState--"><code>SOCGame.getGameState()</code></a>
 and <a href="../../soc/message/SOCTurn.html" title="class in soc.message"><code>SOCTurn</code></a> for whose turn it is.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#sendTurnStateAtInitialPlacement-soc.game.SOCGame-soc.game.SOCPlayer-soc.communication.Connection-soc.game.GameState-">sendTurnStateAtInitialPlacement</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                               <a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;pl,
                               <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
                               <a href="../../soc/game/GameState.html" title="enum in soc.game">GameState</a>&nbsp;prevGameState)</code>
<div class="block">After a player action during initial placement: Send new game state.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#sitDown_sendPrivateInfo-soc.game.SOCGame-soc.communication.Connection-int-boolean-">sitDown_sendPrivateInfo</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                       <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
                       int&nbsp;pn,
                       boolean&nbsp;isRejoinOrLoadgame)</code>
<div class="block">When player has just sat down at a seat, send them all the private information.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../soc/server/SOCGameHandler.html#startGame-soc.game.SOCGame-">startGame</a></span>(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga)</code>
<div class="block">Do the things you need to do to start a game and send its data to the clients.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="ROBOT_FORCE_ENDTURN_TRADEOFFER_SECONDS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ROBOT_FORCE_ENDTURN_TRADEOFFER_SECONDS</h4>
<pre>public static&nbsp;int ROBOT_FORCE_ENDTURN_TRADEOFFER_SECONDS</pre>
<div class="block">Force robot to end their turn after this much inactivity,
 while they've made a trade offer. Default is 60 seconds.
 This is longer than the usual robot turn timeout,
 and used only if waiting for a human player's response.
<P>
 This field was originally in SOCServer, moved in v2.0.00.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.11</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/server/SOCServer.html#ROBOT_FORCE_ENDTURN_SECONDS"><code>SOCServer.ROBOT_FORCE_ENDTURN_SECONDS</code></a>, 
<a href="../../soc/server/SOCServer.html#checkForExpiredTurns-long-"><code>SOCServer.checkForExpiredTurns(long)</code></a></dd>
</dl>
</li>
</ul>
<a name="DESTROY_BOT_ONLY_GAMES_WHEN_OVER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DESTROY_BOT_ONLY_GAMES_WHEN_OVER</h4>
<pre>public static&nbsp;boolean DESTROY_BOT_ONLY_GAMES_WHEN_OVER</pre>
<div class="block">To clean up during automated tests, should robot-only games be destroyed as soon as they're over?
 Checks <a href="../../soc/game/SOCGame.html#isBotsOnly"><code>SOCGame.isBotsOnly</code></a>.
 True by default. Added in v2.4.50; previous versions always removed such games.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.4.50</dd>
</dl>
</li>
</ul>
<a name="ELEM_RESOURCES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ELEM_RESOURCES</h4>
<pre>public static final&nbsp;<a href="../../soc/message/SOCPlayerElement.PEType.html" title="enum in soc.message">SOCPlayerElement.PEType</a>[] ELEM_RESOURCES</pre>
<div class="block">The 5 resource types, for sending <a href="../../soc/message/SOCPlayerElements.html" title="class in soc.message"><code>SOCPlayerElements</code></a>:
 <a href="../../soc/message/SOCPlayerElement.PEType.html#CLAY"><code>SOCPlayerElement.PEType.CLAY</code></a>, ORE, SHEEP, WHEAT, <a href="../../soc/message/SOCPlayerElement.PEType.html#WOOD"><code>SOCPlayerElement.PEType.WOOD</code></a>.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/server/SOCGameHandler.html#ELEM_RESOURCES_WITH_UNKNOWN"><code>ELEM_RESOURCES_WITH_UNKNOWN</code></a></dd>
</dl>
</li>
</ul>
<a name="ELEM_RESOURCES_WITH_UNKNOWN">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ELEM_RESOURCES_WITH_UNKNOWN</h4>
<pre>public static final&nbsp;<a href="../../soc/message/SOCPlayerElement.PEType.html" title="enum in soc.message">SOCPlayerElement.PEType</a>[] ELEM_RESOURCES_WITH_UNKNOWN</pre>
<div class="block">The 5 resource types plus Unknown, for sending <a href="../../soc/message/SOCPlayerElements.html" title="class in soc.message"><code>SOCPlayerElements</code></a>:
 <a href="../../soc/message/SOCPlayerElement.PEType.html#CLAY"><code>SOCPlayerElement.PEType.CLAY</code></a>, ORE, SHEEP, WHEAT, <a href="../../soc/message/SOCPlayerElement.PEType.html#WOOD"><code>SOCPlayerElement.PEType.WOOD</code></a>,
 <a href="../../soc/message/SOCPlayerElement.PEType.html#UNKNOWN_RESOURCE"><code>SOCPlayerElement.PEType.UNKNOWN_RESOURCE</code></a>.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/server/SOCGameHandler.html#ELEM_RESOURCES"><code>ELEM_RESOURCES</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SOCGameHandler-soc.server.SOCServer-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SOCGameHandler</h4>
<pre>public&nbsp;SOCGameHandler(<a href="../../soc/server/SOCServer.html" title="class in soc.server">SOCServer</a>&nbsp;server)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getMessageHandler--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessageHandler</h4>
<pre>public&nbsp;<a href="../../soc/server/GameMessageHandler.html" title="interface in soc.server">GameMessageHandler</a>&nbsp;getMessageHandler()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../soc/server/GameHandler.html#getMessageHandler--">GameHandler</a></code></span></div>
<div class="block">Get this game type's GameMessageHandler.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/server/GameHandler.html#getMessageHandler--">getMessageHandler</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a></code></dd>
</dl>
</li>
</ul>
<a name="processDebugCommand-soc.communication.Connection-soc.game.SOCGame-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processDebugCommand</h4>
<pre>public&nbsp;boolean&nbsp;processDebugCommand(<a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;debugCli,
                                   <a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                                   java.lang.String&nbsp;dcmd,
                                   java.lang.String&nbsp;dcmdU)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../soc/server/GameHandler.html#processDebugCommand-soc.communication.Connection-soc.game.SOCGame-java.lang.String-java.lang.String-">GameHandler</a></code></span></div>
<div class="block">Look for a potential debug command in a text message sent by the "debug" client/player.
 If game debug is on, called for every game text message (chat message) received from that player.
<P>
 Server-wide debug commands are processed before gametype-specific debug commands;
 see <a href="../../soc/server/SOCServer.html#processDebugCommand-soc.communication.Connection-soc.game.SOCGame-java.lang.String-java.lang.String-"><code>SOCServer.processDebugCommand(Connection, SOCGame, String, String)</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/server/GameHandler.html#processDebugCommand-soc.communication.Connection-soc.game.SOCGame-java.lang.String-java.lang.String-">processDebugCommand</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>debugCli</code> - Client sending the potential debug command</dd>
<dd><code>ga</code> - Game in which the message is sent; not null</dd>
<dd><code>dcmd</code> - Text message which may be a debug command</dd>
<dd><code>dcmdU</code> - <code>dcmd</code> as uppercase, for efficiency (it's already been uppercased in caller)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if <code>dcmd</code> is a recognized debug command, false otherwise</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/server/GameHandler.html#getDebugCommandsHelp--"><code>GameHandler.getDebugCommandsHelp()</code></a></dd>
</dl>
</li>
</ul>
<a name="getDebugCommandsHelp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDebugCommandsHelp</h4>
<pre>public final&nbsp;java.lang.String[]&nbsp;getDebugCommandsHelp()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../soc/server/GameHandler.html#getDebugCommandsHelp--">GameHandler</a></code></span></div>
<div class="block">Get the debug commands for this game type, if any, used with
 <a href="../../soc/server/GameHandler.html#processDebugCommand-soc.communication.Connection-soc.game.SOCGame-java.lang.String-java.lang.String-"><code>GameHandler.processDebugCommand(Connection, SOCGame, String, String)</code></a>.
 If client types the <code>*help*</code> debug command, the server will
 send them all the general debug command help, and these strings.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/server/GameHandler.html#getDebugCommandsHelp--">getDebugCommandsHelp</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a set of lines of help text to send to a client after sending <a href="../../soc/server/SOCServer.html#DEBUG_COMMANDS_HELP"><code>SOCServer.DEBUG_COMMANDS_HELP</code></a>,
          or <code>null</code> if no gametype-specific debug commands</dd>
</dl>
</li>
</ul>
<a name="processDebugCommand_freePlace-soc.communication.Connection-soc.game.SOCGame-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processDebugCommand_freePlace</h4>
<pre>final&nbsp;void&nbsp;processDebugCommand_freePlace(<a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
                                         <a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                                         java.lang.String&nbsp;arg)</pre>
<div class="block">Process the <tt>*FREEPLACE*</tt> Free Placement debug command.
 Can turn it off at any time, but can only turn it on during
 your own turn after rolling (during game state <a href="../../soc/game/GameState.html#PLAY1"><code>GameState.PLAY1</code></a>).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - Connection (client) sending this message</dd>
<dd><code>ga</code> - Game to which this applies; not null</dd>
<dd><code>arg</code> - 1 or 0, to turn on or off, or empty string or
    null to print current value</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.12</dd>
</dl>
</li>
</ul>
<a name="calcGameClientFeaturesRequired-soc.game.SOCGame-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcGameClientFeaturesRequired</h4>
<pre>public final&nbsp;void&nbsp;calcGameClientFeaturesRequired(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../soc/server/GameHandler.html#calcGameClientFeaturesRequired-soc.game.SOCGame-">GameHandler</a></code></span></div>
<div class="block">When creating a new game at the server, check its options and
 if any of them require any optional client features, calculate
 the required features and call <a href="../../soc/game/SOCGame.html#setClientFeaturesRequired-soc.util.SOCFeatureSet-"><code>SOCGame.setClientFeaturesRequired(soc.util.SOCFeatureSet)</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/server/GameHandler.html#calcGameClientFeaturesRequired-soc.game.SOCGame-">calcGameClientFeaturesRequired</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - Game to check features; not <code>null</code></dd>
</dl>
</li>
</ul>
<a name="checkTurn-soc.communication.Connection-soc.game.SOCGame-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkTurn</h4>
<pre>final&nbsp;boolean&nbsp;checkTurn(<a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
                        <a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga)</pre>
<div class="block">Make sure it's the player's turn.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - the connection for player</dd>
<dd><code>ga</code> - the game</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if it is the player's turn;
         false if another player's turn, or if this player isn't in the game</dd>
</dl>
</li>
</ul>
<a name="endGameTurn-soc.game.SOCGame-soc.game.SOCPlayer-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endGameTurn</h4>
<pre>void&nbsp;endGameTurn(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                 <a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;pl,
                 boolean&nbsp;callEndTurn)</pre>
<div class="block">Pre-checking already done, end the current player's turn in this game.
 Alter game state and send messages to players.
 (Clear all the Ask Special Building, Reset Board Request, and Trade Offer flags; send Game State; send Turn).
<P>
 Calls <a href="../../soc/game/SOCGame.html#endTurn--"><code>SOCGame.endTurn()</code></a>, which may also end the game.
 On the 6-player board, this may begin the <a href="../../soc/game/GameState.html#SPECIAL_BUILDING"><code>Special Building Phase</code></a>,
 or end a player's placements during that phase.
 Otherwise, calls <a href="../../soc/server/SOCGameHandler.html#sendTurn-soc.game.SOCGame-boolean-"><code>sendTurn(SOCGame, boolean)</code></a> and begins
 the next player's turn.
<P>
 Assumes:
 <UL>
 <LI> ga.canEndTurn already called, to validate player
 <LI> ga.takeMonitor already called (not the same as <a href="../../soc/util/SOCGameList.html#takeMonitorForGame-java.lang.String-"><code>SOCGameList.takeMonitorForGame(String)</code></a>)
 <LI> gamelist.takeMonitorForGame is NOT called, we do NOT have that monitor
 </UL>
<P>
 As a special case, endTurn is used to begin the Special Building Phase during the
 start of a player's own turn, if permitted.  (Added in 1.1.09)
<P>
 A simplified version of this logic (during initial placement) is used in
 <a href="../../soc/server/SOCGameMessageHandler.html#handlePUTPIECE-soc.game.SOCGame-soc.communication.Connection-soc.message.SOCPutPiece-"><code>SOCGameMessageHandler.handlePUTPIECE(SOCGame, Connection, SOCPutPiece)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - Game to end turn</dd>
<dd><code>pl</code> - Current player in <tt>ga</tt>, or null. Not needed except in SPECIAL_BUILDING.
           If null, will be determined within this method.</dd>
<dd><code>callEndTurn</code> - Almost always true; if false, don't call <a href="../../soc/game/SOCGame.html#endTurn--"><code>SOCGame.endTurn()</code></a>
           because it was called before calling this method.
           If false, be sure to set <code>pl</code> to the player whose turn it was before <code>endTurn()</code> was called.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.00</dd>
</dl>
</li>
</ul>
<a name="joinGame-soc.game.SOCGame-soc.communication.Connection-boolean-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinGame</h4>
<pre>public&nbsp;void&nbsp;joinGame(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;gameData,
                     <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
                     boolean&nbsp;isReset,
                     boolean&nbsp;isLoading,
                     boolean&nbsp;isRejoinOrLoadgame)</pre>
<div class="block">Client has been approved to join game; send JOINGAMEAUTH and the entire state of the game to client.
 Unless <code>isRejoinOrLoadgame</code>, announce <a href="../../soc/message/SOCJoinGame.html" title="class in soc.message"><code>SOCJoinGame</code></a> client join event to other players.
<P>
 Does not add the client to the game's or server's list of players,
 that should be done before calling this method.
<P>
 Assumes <a href="../../soc/server/SOCServer.html#connectToGame-soc.communication.Connection-java.lang.String-soc.game.SOCGameOptionSet-soc.game.SOCGame-"><code>SOCServer.connectToGame(Connection, String, SOCGameOptionSet, SOCGame)</code></a> was already called.
<P>
 Assumes NEWGAME (or NEWGAMEWITHOPTIONS) has already been sent out.
 The game's first message<B>*</B> sent to the connecting client is JOINGAMEAUTH, unless isReset.
<P>
 Among other messages, player names are sent via SITDOWN, and pieces on board
 sent by PUTPIECE.  See comments here for further details.
 If <code>isRejoinOrLoadgame</code>, some details are sent by calling
 <a href="../../soc/server/SOCGameHandler.html#sitDown_sendPrivateInfo-soc.game.SOCGame-soc.communication.Connection-int-boolean-"><code>sitDown_sendPrivateInfo(SOCGame, Connection, int, boolean)</code></a>.
 The group of messages sent here ends with GAMEMEMBERS, SETTURN and GAMESTATE.
 If state is <a href="../../soc/game/GameState.html#GAME_OVER"><code>GameState.GAME_OVER</code></a>: Right after sending GAMESTATE, calls
 <a href="../../soc/server/SOCGameHandler.html#sendGameStateOVER-soc.game.SOCGame-soc.communication.Connection-"><code>sendGameStateOver(gameData, c)</code></a>.
<P>
 After all that is sent, the entire game is sent a JOINGAME for the new game member.
<P>
 *<B>I18N:</B> If the game has a <a href="../../soc/game/SOCScenario.html" title="class in soc.game"><code>SOCScenario</code></a> and the client needs scenario info or localized strings
 for the scenario name and description, <a href="../../soc/message/SOCScenarioInfo.html" title="class in soc.message"><code>SOCScenarioInfo</code></a> or <a href="../../soc/message/SOCLocalizedStrings.html" title="class in soc.message"><code>SOCLocalizedStrings</code></a> is
 sent before JOINGAMEAUTH.  This handles i18n and scenarios added or changed between the client's
 and server's versions.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/server/GameHandler.html#joinGame-soc.game.SOCGame-soc.communication.Connection-boolean-boolean-boolean-">joinGame</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>gameData</code> - Game to join</dd>
<dd><code>c</code> - The connection of joining client</dd>
<dd><code>isReset</code> - Game is a board-reset of an existing game.  This is always false when
          called from SOCServer instead of from inside the SOCGameHandler.</dd>
<dd><code>isLoading</code> - Game is being reloaded from snapshot by <code>c</code>'s request; state is <a href="../../soc/game/GameState.html#LOADING"><code>GameState.LOADING</code></a></dd>
<dd><code>isRejoinOrLoadgame</code> - If true, client is re-joining; <code>c</code> replaces an earlier connection which
          is defunct/frozen because of a network problem. Also true when a human player joins a
          game being reloaded and has the same nickname as a player there.
          If <code>isRejoinOrLoadgame</code>, sends <code>c</code> their hand's private info for game in progress.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/server/SOCServer.html#createOrJoinGameIfUserOK-soc.communication.Connection-java.lang.String-java.lang.String-java.lang.String-soc.game.SOCGameOptionSet-"><code>SOCServer.createOrJoinGameIfUserOK(Connection, String, String, String, SOCGameOptionSet)</code></a></dd>
</dl>
</li>
</ul>
<a name="gatherBoardPotentials-soc.game.SOCGame-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gatherBoardPotentials</h4>
<pre>public static&nbsp;<a href="../../soc/message/SOCPotentialSettlements.html" title="class in soc.message">SOCPotentialSettlements</a>[]&nbsp;gatherBoardPotentials(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;gameData,
                                                              int&nbsp;cliVers)</pre>
<div class="block">Players' potential settlements and related values.
 Will return either 1 per player, or 1 for all players with <code>playerNumber</code> == -1:
<P>
 If game hasn't started yet, each player's potentialSettlements are identical,
 so gather that info once for all players (unless clients are too old for a message having PN -1).
<P>
 Otherwise each player has a unique potential settlement list,
 to populate legal sets before sending any of their PutPieces.
<P>
 Before v2.3.00 this code was part of <code>joinGame</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>gameData</code> - Game to gather potentials from</dd>
<dd><code>cliVers</code> - Client version, or <code>Integer.MAX_VALUE</code> for latest version</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.3.00</dd>
</dl>
</li>
</ul>
<a name="sitDown_sendPrivateInfo-soc.game.SOCGame-soc.communication.Connection-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sitDown_sendPrivateInfo</h4>
<pre>public&nbsp;void&nbsp;sitDown_sendPrivateInfo(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                                    <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
                                    int&nbsp;pn,
                                    boolean&nbsp;isRejoinOrLoadgame)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../soc/server/GameHandler.html#sitDown_sendPrivateInfo-soc.game.SOCGame-soc.communication.Connection-int-boolean-">GameHandler</a></code></span></div>
<div class="block">When player has just sat down at a seat, send them all the private information.
 Cards in their hand, resource counts, anything else that isn't public to all players.
 Because they've just sat and become an active player, send the gameState, and prompt them if
 the game is waiting on any decision by their player number (discard, pick a free resource, etc).
<P>
 Called from <a href="../../soc/server/SOCServer.html#sitDown-soc.game.SOCGame-soc.communication.Connection-int-boolean-boolean-"><code>SOCServer.sitDown(SOCGame, Connection, int, boolean, boolean)</code></a>.
<P>
 <b>Locks:</b> Assumes ga.takeMonitor() is held, and should remain held.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/server/GameHandler.html#sitDown_sendPrivateInfo-soc.game.SOCGame-soc.communication.Connection-int-boolean-">sitDown_sendPrivateInfo</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - the game</dd>
<dd><code>c</code> - the connection for the player</dd>
<dd><code>pn</code> - which seat the player is taking</dd>
<dd><code>isRejoinOrLoadgame</code> - If true, client is re-joining; <code>c</code> replaces an earlier connection which
          is defunct/frozen because of a network problem. Also true when a human player joins a
          game being reloaded and has the same nickname as a player there.</dd>
</dl>
</li>
</ul>
<a name="leaveGame-soc.game.SOCGame-soc.communication.Connection-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>leaveGame</h4>
<pre>public&nbsp;boolean&nbsp;leaveGame(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                         <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
                         boolean&nbsp;hasReplacement,
                         boolean&nbsp;hasHumanReplacement)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../soc/server/GameHandler.html#leaveGame-soc.game.SOCGame-soc.communication.Connection-boolean-boolean-">GameHandler</a></code></span></div>
<div class="block">This member (player or observer) has left the game.
 Check the game and clean up, forcing end of current turn if necessary.
 Call <a href="../../soc/game/SOCGame.html#removePlayer-java.lang.String-boolean-"><code>SOCGame.removePlayer(String, boolean)</code></a>.
 If the game still has other players, continue it, otherwise it will be ended after
 returning from <code>leaveGame</code>. Send messages out to other game members
 notifying them the player has left.
<P>
 See javadoc return value for behavior if the sole human player has left
 and only bots and/or observers remain.
<P>
 <B>Locks:</b> Has <a href="../../soc/util/SOCGameList.html#takeMonitorForGame-java.lang.String-"><code>gameList.takeMonitorForGame(gm)</code></a>
 when calling this method; does not have <a href="../../soc/game/SOCGame.html#takeMonitor--"><code>SOCGame.takeMonitor()</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/server/GameHandler.html#leaveGame-soc.game.SOCGame-soc.communication.Connection-boolean-boolean-">leaveGame</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - The game</dd>
<dd><code>c</code> - The member connection which left.
           The server has already removed <code>c</code> from the list of game members.
           If <code>c</code> is being dropped because of an error,
           <a href="../../soc/communication/Connection.html#disconnect--"><code>Connection.disconnect()</code></a> has already been called.
           Don't exclude <code>c</code> from any communication about leaving the game,
           in case they are still connected and in other games.</dd>
<dd><code>hasReplacement</code> - If true the leaving connection is a bot, and there's a waiting client who will be told
           next to sit down in this bot's seat, so that isn't really becoming vacant</dd>
<dd><code>hasHumanReplacement</code> - if true, <code>hasReplacement</code>'s client is human, not a bot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the game should be ended and deleted (does not have other observers or non-robot players,
           not <code>hasHumanReplacement</code>, and game's <code>isBotsOnly</code> flag is false).
           <P>
           If <code>isBotsOnly</code> is false, and the game is now only robots and observers,
           game should end unless the "allow robots-only games" property is nonzero: Check
           <a href="../../soc/server/genericServer/Server.html#getConfigIntProperty-java.lang.String-int-"><code>SOCServer.getConfigIntProperty</code></a>
           (<a href="../../soc/server/SOCServer.html#PROP_JSETTLERS_BOTS_BOTGAMES_TOTAL"><code>PROP_JSETTLERS_BOTS_BOTGAMES_TOTAL</code></a>, 0).</dd>
</dl>
</li>
</ul>
<a name="findRobotAskJoinGame-soc.game.SOCGame-java.lang.Object-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findRobotAskJoinGame</h4>
<pre>public&nbsp;boolean&nbsp;findRobotAskJoinGame(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                                    java.lang.Object&nbsp;seatNumberObj,
                                    boolean&nbsp;gameIsActive)</pre>
<div class="block">When a human player has left an active game, or a game is starting and a
 bot from that game's <a href="../../soc/server/SOCServer.html#robotJoinRequests"><code>SOCServer.robotJoinRequests</code></a> has disconnected,
 look for a robot player which can take a seat and continue the game.
<P>
 If found the bot will be added to <a href="../../soc/server/SOCServer.html#robotJoinRequests"><code>SOCServer.robotJoinRequests</code></a> and
 sent a <a href="../../soc/message/SOCBotJoinGameRequest.html" title="class in soc.message"><code>SOCBotJoinGameRequest</code></a>. Otherwise the game will be sent a
 <a href="../../soc/message/SOCGameServerText.html" title="class in soc.message"><code>SOCGameServerText</code></a> explaining failure to find any robot; human players
 might need to leave the game and start a new one.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/server/GameHandler.html#findRobotAskJoinGame-soc.game.SOCGame-java.lang.Object-boolean-">findRobotAskJoinGame</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - Game to look in</dd>
<dd><code>seatNumberObj</code> - Seat number to fill, as an <code>Integer</code> object.
     If <code>! gameIsActive</code>, this comes from <a href="../../soc/server/SOCServer.html#robotJoinRequests"><code>SOCServer.robotJoinRequests</code></a>
     via <a href="../../soc/server/SOCServer.html#leaveConnection-soc.communication.Connection-"><code>SOCServer.leaveConnection(Connection)</code></a>.</dd>
<dd><code>gameIsActive</code> - True if for active game, not a game still starting</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if an available bot was found</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.00</dd>
</dl>
</li>
</ul>
<a name="sendGameState-soc.game.SOCGame-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendGameState</h4>
<pre>public&nbsp;void&nbsp;sendGameState(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga)</pre>
<div class="block">Send all game members the current state of the game with a <a href="../../soc/message/SOCGameState.html" title="class in soc.message"><code>SOCGameState</code></a> message.
 Assumes current player does not change during this state.
 May also send other messages to the current player.
 If state is <a href="../../soc/game/GameState.html#ROLL_OR_CARD"><code>GameState.ROLL_OR_CARD</code></a>, sends game a <a href="../../soc/message/SOCRollDicePrompt.html" title="class in soc.message"><code>SOCRollDicePrompt</code></a>.
<P>
 Be sure that callers to <code>sendGameState</code> don't assume the game will still
 exist after calling this method, if the game state was <a href="../../soc/game/GameState.html#GAME_OVER"><code>GameState.GAME_OVER</code></a>.
<P>
 This method has always been part of the server package.
 v2.3.00 is the first version to expose it as part of <code>GameHandler</code>.
<P>
 Equivalent to: <a href="../../soc/server/SOCGameHandler.html#sendGameState-soc.game.SOCGame-boolean-boolean-"><code>sendGameState(ga, false, true)</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/server/GameHandler.html#sendGameState-soc.game.SOCGame-">sendGameState</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - the game</dd>
</dl>
</li>
</ul>
<a name="sendGameState-soc.game.SOCGame-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendGameState</h4>
<pre>boolean&nbsp;sendGameState(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;theGame,
                      boolean&nbsp;omitGameStateMessage,
                      boolean&nbsp;sendRollPrompt)</pre>
<div class="block">Send all game members the current state of the game with a message.
 May also send other messages to the game and/or specific players if noted here.
 Note that the current (or new) player number is not sent here.
<P>
 See <a href="../../soc/game/GameState.html" title="enum in soc.game"><code>GameState</code></a> for complete list of game states,
 related messages sent, and expected client responses.
<P>
 Summarized here:
<P>
 State <a href="../../soc/game/GameState.html#ROLL_OR_CARD"><code>GameState.ROLL_OR_CARD</code></a>:
 If <code>sendRollPrompt</code>, send game a <code>RollDicePrompt</code> announcement.
 Clients v2.0.00 or newer (<a href="../../soc/util/SOCStringManager.html#VERSION_FOR_I18N"><code>SOCStringManager.VERSION_FOR_I18N</code></a>) will print
 "It's Joe's turn to roll the dice." Older clients will be sent a text message
 to say that.<br /><br />
<P>
 State <a href="../../soc/game/GameState.html#WAITING_FOR_DISCARDS"><code>GameState.WAITING_FOR_DISCARDS</code></a>:
 If a 7 is rolled, will also say who must discard (in a GAMESERVERTEXT).
 Can use <code>omitGameStateMessage</code> to send only that GAMESERVERTEXT
 if responding to a player's discard.<BR>
 <B>Note:</B> This method sends only the prompt text, not the <a href="../../soc/message/SOCDiscardRequest.html" title="class in soc.message"><code>SOCDiscardRequest</code></a>s
 sent by <a href="../../soc/server/SOCGameHandler.html#sendGameState_sendDiscardRequests-soc.game.SOCGame-java.lang.String-"><code>sendGameState_sendDiscardRequests(SOCGame, String)</code></a>.<br /><br />
<P>
 State <a href="../../soc/game/GameState.html#WAITING_FOR_ROB_CHOOSE_PLAYER"><code>GameState.WAITING_FOR_ROB_CHOOSE_PLAYER</code></a>:
 If current player must choose which player to rob,
 will also prompt their client to choose (in a CHOOSEPLAYERREQUEST).<br /><br />
<P>
 State <a href="../../soc/game/GameState.html#STARTS_WAITING_FOR_PICK_GOLD_RESOURCE"><code>GameState.STARTS_WAITING_FOR_PICK_GOLD_RESOURCE</code></a>: To announce the player must
 pick a resource to gain from the gold hex initial placement please call
 <a href="../../soc/server/SOCGameHandler.html#sendGameState_sendGoldPickAnnounceText-soc.game.SOCGame-java.lang.String-soc.communication.Connection-soc.game.SOCGame.RollResult-"><code>sendGameState_sendGoldPickAnnounceText(SOCGame, String, Connection, SOCGame.RollResult)</code></a>.<br /><br />
<P>
 State <a href="../../soc/game/GameState.html#WAITING_FOR_PICK_GOLD_RESOURCE"><code>GameState.WAITING_FOR_PICK_GOLD_RESOURCE</code></a>:
 If a gold hex is rolled, does not say who
 must pick resources to gain (because of timing).  Please call
 <a href="../../soc/server/SOCGameHandler.html#sendGameState_sendGoldPickAnnounceText-soc.game.SOCGame-java.lang.String-soc.communication.Connection-soc.game.SOCGame.RollResult-"><code>sendGameState_sendGoldPickAnnounceText(SOCGame, String, Connection, SOCGame.RollResult)</code></a>
 after sending the resource gain text ("x gets 1 sheep").<br /><br />
<P>
 State <a href="../../soc/game/GameState.html#GAME_OVER"><code>GameState.GAME_OVER</code></a>: Announces winner, each player's total VP, and related game and
 player stats.<br /><br />
<P>
 <b>Note:</b> If game is now <code>GAME_OVER</code> and the <a href="../../soc/game/SOCGame.html#isBotsOnly"><code>SOCGame.isBotsOnly</code></a> flag is set,
 <a href="../../soc/server/SOCGameHandler.html#sendGameStateOVER-soc.game.SOCGame-soc.communication.Connection-"><code>sendGameStateOVER(SOCGame, Connection)</code></a> will call <a href="../../soc/server/SOCServer.html#destroyGameAndBroadcast-java.lang.String-java.lang.String-"><code>SOCServer.destroyGameAndBroadcast(String, String)</code></a>.
 Be sure that callers to <code>sendGameState</code> don't assume the game will still exist after calling this method.
 Also, <code>destroyGame</code> might create more <a href="../../soc/game/SOCGame.html#isBotsOnly"><code>SOCGame.isBotsOnly</code></a> games, depending on server settings.
<P>
 <b>Locks:</b> Does not hold <a href="../../soc/util/SOCGameList.html#takeMonitor--"><code>SOCGameList.takeMonitor()</code></a> or
 <a href="../../soc/util/SOCGameList.html#takeMonitorForGame-java.lang.String-"><code>SOCGameList.takeMonitorForGame(java.lang.String)</code></a><tt>(gaName)</tt> when called.
 Some callers call <a href="../../soc/game/SOCGame.html#takeMonitor--"><code>SOCGame.takeMonitor()</code></a> before calling; not important here.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>theGame</code> - the game</dd>
<dd><code>omitGameStateMessage</code> - if true, don't send the <a href="../../soc/message/SOCGameState.html" title="class in soc.message"><code>SOCGameState</code></a> message itself
    but do send any other messages as described above. For use just after sending a message which
    includes a Game State field. Ignored if gamestate >= <a href="../../soc/game/GameState.html#GAME_OVER"><code>GameState.GAME_OVER</code></a>.</dd>
<dd><code>sendRollPrompt</code> - If true and state is <a href="../../soc/game/GameState.html#ROLL_OR_CARD"><code>GameState.ROLL_OR_CARD</code></a>, send game a <code>RollDicePrompt</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>If true, caller (<code>sendTurn</code>) should send game a <code>RollDicePrompt</code>
    because <code>sendRollPrompt</code> is false, although they may send other messages first.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/server/SOCGameHandler.html#sendTurn-soc.game.SOCGame-boolean-"><code>sendTurn(SOCGame, boolean)</code></a>, 
<a href="../../soc/server/SOCGameHandler.html#sendGameState-soc.game.SOCGame-"><code>sendGameState(SOCGame)</code></a>, 
<a href="../../soc/server/SOCGameHandler.html#sendGameStateOVER-soc.game.SOCGame-soc.communication.Connection-"><code>sendGameStateOVER(SOCGame, Connection)</code></a></dd>
</dl>
</li>
</ul>
<a name="sendGameState_sendDiscardRequests-soc.game.SOCGame-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendGameState_sendDiscardRequests</h4>
<pre>final&nbsp;void&nbsp;sendGameState_sendDiscardRequests(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                                             java.lang.String&nbsp;gaName)</pre>
<div class="block">If any player needs to discard, prompt them to discard half (round down);
 call in game state <a href="../../soc/game/GameState.html#WAITING_FOR_DISCARDS"><code>GameState.WAITING_FOR_DISCARDS</code></a> after calling <a href="../../soc/server/SOCGameHandler.html#sendGameState-soc.game.SOCGame-"><code>sendGameState(SOCGame)</code></a>.
 This method sends only <a href="../../soc/message/SOCDiscardRequest.html" title="class in soc.message"><code>SOCDiscardRequest</code></a>s, not the prompt text "Joe and Lily must discard"
 sent by <code>sendGameState</code>.
<P>
 Checks each player's <a href="../../soc/game/SOCGame.html#isSeatVacant-int-"><code>SOCGame.isSeatVacant(int)</code></a> and <a href="../../soc/game/SOCPlayer.html#getNeedToDiscard--"><code>SOCPlayer.getNeedToDiscard()</code></a> flags.
 Number of resources to discard is <a href="../../soc/game/SOCPlayer.html#getCountToDiscard--"><code>SOCPlayer.getCountToDiscard()</code></a>:
 Half of <a href="../../soc/game/SOCPlayer.html#getResources--"><code>SOCPlayer.getResources()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - Game to prompt</dd>
<dd><code>gaName</code> - Game name for convenience; not <code>null</code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.00</dd>
</dl>
</li>
</ul>
<a name="sendGameState_sendGoldPickAnnounceText-soc.game.SOCGame-java.lang.String-soc.communication.Connection-soc.game.SOCGame.RollResult-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendGameState_sendGoldPickAnnounceText</h4>
<pre>final&nbsp;void&nbsp;sendGameState_sendGoldPickAnnounceText(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                                                  java.lang.String&nbsp;gname,
                                                  <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;playerCon,
                                                  <a href="../../soc/game/SOCGame.RollResult.html" title="class in soc.game">SOCGame.RollResult</a>&nbsp;roll)</pre>
<div class="block">Send a game text message "x, y, and z need to pick resources from the gold hex."
 and, for each picking player, a
 <a href="../../soc/message/SOCPlayerElement.html" title="class in soc.message"><code>SOCPlayerElement</code></a>(<a href="../../soc/message/SOCPlayerElement.PEType.html#NUM_PICK_GOLD_HEX_RESOURCES"><code>NUM_PICK_GOLD_HEX_RESOURCES</code></a>).
 To prompt the specific players to choose a resource, also sends their clients a
 <a href="../../soc/message/SOCSimpleRequest.html" title="class in soc.message"><code>SOCSimpleRequest</code></a>(<a href="../../soc/message/SOCSimpleRequest.html#PROMPT_PICK_RESOURCES"><code>PROMPT_PICK_RESOURCES</code></a>).
<P>
 Used in game state <a href="../../soc/game/GameState.html#STARTS_WAITING_FOR_PICK_GOLD_RESOURCE"><code>GameState.STARTS_WAITING_FOR_PICK_GOLD_RESOURCE</code></a>
 and <a href="../../soc/game/GameState.html#WAITING_FOR_PICK_GOLD_RESOURCE"><code>GameState.WAITING_FOR_PICK_GOLD_RESOURCE</code></a>.
<P>
 The text and SOCPlayerElement messages are sent to the entire game.
 Any <code>PROMPT_PICK_RESOURCES</code> are sent to those player clients only.
 If you know that only 1 player will pick gold, pass their <tt>playerCon</tt> for efficiency.
<P>
 This is separate from <a href="../../soc/server/SOCGameHandler.html#sendGameState-soc.game.SOCGame-"><code>sendGameState(SOCGame)</code></a> because when the dice are rolled,
 <tt>sendGameState</tt> is called, then resource distribution messages are sent out,
 then this method is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - Game object</dd>
<dd><code>gname</code> - Game name</dd>
<dd><code>playerCon</code> - <tt>null</tt>, or current player's client connection to send the
          <code>PROMPT_PICK_RESOURCES</code> if they are the only one to pick gold.
          If more than 1 player has <a href="../../soc/game/SOCPlayer.html#getNeedToPickGoldHexResources--"><code>SOCPlayer.getNeedToPickGoldHexResources()</code></a>,
          no message will be sent to <tt>playerCon</tt>.</dd>
<dd><code>roll</code> - For gold gained from dice rolls, the roll details, otherwise null.
          In scenario SC_PIRI, is used to avoid announcing twice for a pick after victory against pirate fleet.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.00</dd>
</dl>
</li>
</ul>
<a name="reportRobbery-soc.game.SOCGame-soc.game.SOCPlayer-soc.game.SOCPlayer-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportRobbery</h4>
<pre>void&nbsp;reportRobbery(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;game,
                   <a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;perp,
                   <a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;victim,
                   int&nbsp;rsrc)</pre>
<div class="block">The current player is stealing from another player.
 Send messages saying what was stolen.
 Use <a href="../../soc/message/SOCReportRobbery.html" title="class in soc.message"><code>SOCReportRobbery</code></a> if clients are compatible.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>game</code> - the game</dd>
<dd><code>perp</code> - the perpetrator</dd>
<dd><code>victim</code> - the victim</dd>
<dd><code>rsrc</code> - type of resource stolen, as in <a href="../../soc/game/SOCResourceConstants.html#SHEEP"><code>SOCResourceConstants.SHEEP</code></a>,
          or <a href="../../soc/game/SOCResourceConstants.html#CLOTH_STOLEN_LOCAL"><code>SOCResourceConstants.CLOTH_STOLEN_LOCAL</code></a> for cloth
          (scenario option <a href="../../soc/game/SOCGameOptionSet.html#K_SC_CLVI"><code>_SC_CLVI</code></a>).</dd>
</dl>
</li>
</ul>
<a name="sendTradeOffer-soc.game.SOCPlayer-soc.communication.Connection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendTradeOffer</h4>
<pre>public&nbsp;void&nbsp;sendTradeOffer(<a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;player,
                           <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;toJoiningClient)</pre>
<div class="block">Announces this player's new trade offer to their game,
 or send that info to one client that's joining the game now.
 If player isn't currently offering, does nothing.
<P>
 If announcing to entire game (not <code>toJoiningClient</code>),
 treats this as a new offer and calls <a href="../../soc/server/SOCServer.html#recordGameEvent-java.lang.String-soc.message.SOCMessage-"><code>SOCServer.recordGameEvent(String, soc.message.SOCMessage)</code></a>.
<P>
 Before v2.4.00, this method's code was part of <code>SOCGameMessageHandler.handleMAKEOFFER(..)</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/server/GameHandler.html#sendTradeOffer-soc.game.SOCPlayer-soc.communication.Connection-">sendTradeOffer</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>player</code> - Send this player's <a href="../../soc/game/SOCPlayer.html#getCurrentOffer--"><code>SOCPlayer.getCurrentOffer()</code></a>, if any</dd>
<dd><code>toJoiningClient</code> - Null or a single client to send offer info to</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.4.00</dd>
</dl>
</li>
</ul>
<a name="reportTrade-soc.game.SOCGame-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportTrade</h4>
<pre>void&nbsp;reportTrade(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                 int&nbsp;offering,
                 int&nbsp;accepting)</pre>
<div class="block">Report a trade that has taken place between players, using <a href="../../soc/message/SOCPlayerElement.html" title="class in soc.message"><code>SOCPlayerElement</code></a>.
 Also announces the trade to pre-v2.0.00 clients with a <a href="../../soc/message/SOCGameTextMsg.html" title="class in soc.message"><code>SOCGameTextMsg</code></a>
 ("Joe gave 1 sheep for 1 wood from Lily.").
<P>
 Also reports trade player numbers by sending a <a href="../../soc/message/SOCAcceptOffer.html" title="class in soc.message"><code>SOCAcceptOffer</code></a>
 message to the game after calling this method. In v2.0.00 and newer clients,
 that message announces the trade instead of <a href="../../soc/message/SOCGameTextMsg.html" title="class in soc.message"><code>SOCGameTextMsg</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - the game</dd>
<dd><code>offering</code> - the number of the player making the offer</dd>
<dd><code>accepting</code> - the number of the player accepting the offer</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/server/SOCGameHandler.html#reportBankTrade-soc.game.SOCGame-soc.game.SOCResourceSet-soc.game.SOCResourceSet-"><code>reportBankTrade(SOCGame, SOCResourceSet, SOCResourceSet)</code></a></dd>
</dl>
</li>
</ul>
<a name="reportBankTrade-soc.game.SOCGame-soc.game.SOCResourceSet-soc.game.SOCResourceSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportBankTrade</h4>
<pre>void&nbsp;reportBankTrade(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;game,
                     <a href="../../soc/game/SOCResourceSet.html" title="class in soc.game">SOCResourceSet</a>&nbsp;give,
                     <a href="../../soc/game/SOCResourceSet.html" title="class in soc.game">SOCResourceSet</a>&nbsp;get)</pre>
<div class="block">report that the current player traded with the bank or a port,
 using <a href="../../soc/message/SOCPlayerElement.html" title="class in soc.message"><code>SOCPlayerElement</code></a> and <a href="../../soc/message/SOCBankTrade.html" title="class in soc.message"><code>SOCBankTrade</code></a> messages
 (or <a href="../../soc/message/SOCGameTextMsg.html" title="class in soc.message"><code>SOCGameTextMsg</code></a> to older clients).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>game</code> - the game</dd>
<dd><code>give</code> - the number of the player making the offer</dd>
<dd><code>get</code> - the number of the player accepting the offer</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/server/SOCGameHandler.html#reportTrade-soc.game.SOCGame-int-int-"><code>reportTrade(SOCGame, int, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="reportRsrcGainLoss-soc.game.SOCGame-soc.game.ResourceSet-boolean-boolean-int-int-soc.communication.Connection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportRsrcGainLoss</h4>
<pre>void&nbsp;reportRsrcGainLoss(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                        <a href="../../soc/game/ResourceSet.html" title="interface in soc.game">ResourceSet</a>&nbsp;resourceSet,
                        boolean&nbsp;isLoss,
                        boolean&nbsp;isNews,
                        int&nbsp;mainPlayer,
                        int&nbsp;tradingPlayer,
                        <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;playerConn)</pre>
<div class="block">Report the resources gained/lost by a player, and optionally (for trading)
 lost/gained by a second player.
 Sends PLAYERELEMENT messages, either to entire game, or to player only.
<P>
 Used to report the resources gained from a roll, discard, or discovery (year-of-plenty) pick.
 Also used to report the "give" or "get" half of a resource trade.
<P>
 Messages sent by this method are always treated as "events":
 Indirectly calls <a href="../../soc/server/SOCServer.html#recordGameEvent-java.lang.String-soc.message.SOCMessage-"><code>SOCServer.recordGameEvent(String, SOCMessage)</code></a> or similar methods.
<P>
 Takes and releases the gameList monitor for this game.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - Game whose members will be sent these messages. Before v2.4.50 this was <code>gaName</code>.</dd>
<dd><code>resourceSet</code> - Resource set (from a roll, or the "give" or "get" side of a trade).
                Resource type <a href="../../soc/game/SOCResourceConstants.html#UNKNOWN"><code>UNKNOWN</code></a> or
                <a href="../../soc/game/SOCResourceConstants.html#GOLD_LOCAL"><code>GOLD_LOCAL</code></a> is ignored.
                Only positive resource amounts are sent (negative is ignored).</dd>
<dd><code>isLoss</code> - If true, "give" (<a href="../../soc/message/SOCPlayerElement.html#LOSE"><code>SOCPlayerElement.LOSE</code></a>), otherwise "get" (<a href="../../soc/message/SOCPlayerElement.html#GAIN"><code>SOCPlayerElement.GAIN</code></a>)</dd>
<dd><code>isNews</code> - Is this element change notably good or an unexpected bad change or loss?
                Sets the <a href="../../soc/message/SOCPlayerElement.html#isNews--"><code>SOCPlayerElement.isNews()</code></a> flag in messages sent by this method.
                If there are multiple resource types, flag is set only for the first type sent
                to avoid several alert sounds at client.</dd>
<dd><code>mainPlayer</code> - Player number "giving" if isLose==true, otherwise "getting".
                For each nonzero resource involved, PLAYERELEMENT messages will be sent about this player.</dd>
<dd><code>tradingPlayer</code> - Player number on other side of trade, or -1 if no second player is involved.
                If not -1, PLAYERELEMENT messages will also be sent about this player.</dd>
<dd><code>playerConn</code> - Null to announce to the entire game, or <code>mainPlayer</code>'s connection to send messages
                there instead of sending to all players in game.  Because trades are public, there is no
                such parameter for tradingPlayer.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.1.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/server/SOCGameHandler.html#reportRsrcGainLossForVersions-soc.game.SOCGame-soc.game.ResourceSet-boolean-boolean-int-int-soc.communication.Connection-int-"><code>reportRsrcGainLossForVersions(SOCGame, ResourceSet, boolean, boolean, int, int, Connection, int)</code></a>, 
<a href="../../soc/server/SOCGameHandler.html#reportTrade-soc.game.SOCGame-int-int-"><code>reportTrade(SOCGame, int, int)</code></a>, 
<a href="../../soc/server/SOCGameHandler.html#reportBankTrade-soc.game.SOCGame-soc.game.SOCResourceSet-soc.game.SOCResourceSet-"><code>reportBankTrade(SOCGame, SOCResourceSet, SOCResourceSet)</code></a>, 
<a href="../../soc/server/SOCGameHandler.html#reportRsrcGainGold-soc.game.SOCGame-soc.game.SOCPlayer-int-soc.game.SOCResourceSet-boolean-boolean-"><code>reportRsrcGainGold(SOCGame, SOCPlayer, int, SOCResourceSet, boolean, boolean)</code></a>, 
<a href="../../soc/server/SOCGameMessageHandler.html#handleDISCARD-soc.game.SOCGame-soc.communication.Connection-soc.message.SOCDiscard-"><code>SOCGameMessageHandler.handleDISCARD(SOCGame, Connection, SOCDiscard)</code></a>, 
<a href="../../soc/server/SOCGameMessageHandler.html#handlePICKRESOURCES-soc.game.SOCGame-soc.communication.Connection-soc.message.SOCPickResources-"><code>SOCGameMessageHandler.handlePICKRESOURCES(SOCGame, Connection, soc.message.SOCPickResources)</code></a>, 
<a href="../../soc/server/SOCGameMessageHandler.html#handleROLLDICE-soc.game.SOCGame-soc.communication.Connection-soc.message.SOCRollDice-"><code>SOCGameMessageHandler.handleROLLDICE(SOCGame, Connection, SOCRollDice)</code></a></dd>
</dl>
</li>
</ul>
<a name="reportRsrcGainLossForVersions-soc.game.SOCGame-soc.game.ResourceSet-boolean-boolean-int-int-soc.communication.Connection-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportRsrcGainLossForVersions</h4>
<pre>void&nbsp;reportRsrcGainLossForVersions(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                                   <a href="../../soc/game/ResourceSet.html" title="interface in soc.game">ResourceSet</a>&nbsp;resourceSet,
                                   boolean&nbsp;isLoss,
                                   boolean&nbsp;isNews,
                                   int&nbsp;mainPlayer,
                                   int&nbsp;tradingPlayer,
                                   <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;playerConn,
                                   int&nbsp;vmax)</pre>
<div class="block">Report the resources gained/lost by a player, and optionally (for trading)
 lost/gained by a second player, to older client version connections in a game.
 Useful for backwards compatibility after introducing newer message types like <a href="../../soc/message/SOCReportRobbery.html" title="class in soc.message"><code>SOCReportRobbery</code></a>.
 Sends PLAYERELEMENT messages, either to entire game, or to player only.
<P>
 Used to report the resources gained from a roll, discard, or discovery (year-of-plenty) pick.
 Also used to report the "give" or "get" half of a resource trade.
<P>
 Messages sent by this method aren't treated as recordable "events"
 because they probably aren't using the latest-version message sequence.
 For such events, caller should call <a href="../../soc/server/SOCServer.html#recordGameEvent-java.lang.String-soc.message.SOCMessage-"><code>SOCServer.recordGameEvent(String, SOCMessage)</code></a> or similar methods
 with the latest-version sequence.
<P>
 Takes and releases the gameList monitor for this game.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - Game whose members will be sent these messages</dd>
<dd><code>resourceSet</code> - Resource set (from a roll, or the "give" or "get" side of a trade).
                Resource type <a href="../../soc/game/SOCResourceConstants.html#UNKNOWN"><code>UNKNOWN</code></a> or
                <a href="../../soc/game/SOCResourceConstants.html#GOLD_LOCAL"><code>GOLD_LOCAL</code></a> is ignored.
                Only positive resource amounts are sent (negative is ignored).</dd>
<dd><code>isLoss</code> - If true, "give" (<a href="../../soc/message/SOCPlayerElement.html#LOSE"><code>SOCPlayerElement.LOSE</code></a>), otherwise "get" (<a href="../../soc/message/SOCPlayerElement.html#GAIN"><code>SOCPlayerElement.GAIN</code></a>)</dd>
<dd><code>isNews</code> - Is this element change notably good or an unexpected bad change or loss?
                Sets the <a href="../../soc/message/SOCPlayerElement.html#isNews--"><code>SOCPlayerElement.isNews()</code></a> flag in messages sent by this method.
                If there are multiple resource types, flag is set only for the first type sent
                to avoid several alert sounds at client.</dd>
<dd><code>mainPlayer</code> - Player number "giving" if isLose==true, otherwise "getting".
                For each nonzero resource involved, PLAYERELEMENT messages will be sent about this player.</dd>
<dd><code>tradingPlayer</code> - Player number on other side of trade, or -1 if no second player is involved.
                If not -1, PLAYERELEMENT messages will also be sent about this player.</dd>
<dd><code>playerConn</code> - Null to announce to the entire game, or <code>mainPlayer</code>'s connection to send messages
                there instead of sending to all players in game.  Because trades are public, there is no
                such parameter for tradingPlayer.</dd>
<dd><code>vmax</code> - Maximum client version to send to.
                Same format as <a href="../../soc/util/Version.html#versionNumber--"><code>Version.versionNumber()</code></a> and <a href="../../soc/communication/Connection.html#getRemoteVersion--"><code>Connection.getRemoteVersion()</code></a>.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.4.50</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/server/SOCGameHandler.html#reportRsrcGainLoss-soc.game.SOCGame-soc.game.ResourceSet-boolean-boolean-int-int-soc.communication.Connection-"><code>reportRsrcGainLoss(SOCGame, ResourceSet, boolean, boolean, int, int, Connection)</code></a></dd>
</dl>
</li>
</ul>
<a name="reportRsrcGainGold-soc.game.SOCGame-soc.game.SOCPlayer-int-soc.game.SOCResourceSet-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportRsrcGainGold</h4>
<pre>void&nbsp;reportRsrcGainGold(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                        <a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;player,
                        int&nbsp;pn,
                        <a href="../../soc/game/SOCResourceSet.html" title="class in soc.game">SOCResourceSet</a>&nbsp;rsrcs,
                        boolean&nbsp;isNews,
                        boolean&nbsp;includeGoldHexText)</pre>
<div class="block">Report to game members what a player picked from the gold hex.
 Announces resource info and reason for pick using <a href="../../soc/message/SOCPickResources.html" title="class in soc.message"><code>SOCPickResources</code></a>
 or (for older clients) <a href="../../soc/message/SOCPlayerElement.html" title="class in soc.message"><code>SOCPlayerElement</code></a> and
 "playername has picked ___ " or "playername has picked ___ from the gold hex." text,
 then <a href="../../soc/message/SOCPlayerElement.html" title="class in soc.message"><code>SOCPlayerElement</code></a> to reset the
 <a href="../../soc/message/SOCPlayerElement.PEType.html#NUM_PICK_GOLD_HEX_RESOURCES"><code>SOCPlayerElement.PEType.NUM_PICK_GOLD_HEX_RESOURCES</code></a> counter: See <a href="../../soc/message/SOCPickResources.html" title="class in soc.message"><code>SOCPickResources</code></a> javadoc for details.
<P>
 Messages sent by this method are always treated as "events":
 Indirectly calls <a href="../../soc/server/SOCServer.html#recordGameEvent-java.lang.String-soc.message.SOCMessage-"><code>SOCServer.recordGameEvent(String, SOCMessage)</code></a> or similar methods.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - Game with gaining player</dd>
<dd><code>player</code> - Player gaining</dd>
<dd><code>pn</code> - <tt>player</tt><a href="../../soc/game/SOCPlayer.html#getPlayerNumber--"><code>.getPlayerNumber()</code></a></dd>
<dd><code>rsrcs</code> - Resources picked</dd>
<dd><code>isNews</code> - Is this element change notably good or an unexpected bad change or loss?
                Sets the <a href="../../soc/message/SOCPlayerElement.html#isNews--"><code>SOCPlayerElement.isNews()</code></a> flag in messages sent by this method.
                If there are multiple resource types, flag is set only for the first type sent
                to avoid several alert sounds at client.</dd>
<dd><code>includeGoldHexText</code> - If true, sent text ends with "from the gold hex." after the resource name,
     or sends <a href="../../soc/message/SOCPickResources.html#REASON_GOLD_HEX"><code>SOCPickResources.REASON_GOLD_HEX</code></a> reason code. If false,
     sends <a href="../../soc/message/SOCPickResources.html#REASON_GENERIC"><code>SOCPickResources.REASON_GENERIC</code></a> instead.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.00</dd>
</dl>
</li>
</ul>
<a name="reportLongestRoadIfChanged-soc.game.SOCGame-soc.game.SOCPlayer-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportLongestRoadIfChanged</h4>
<pre>final&nbsp;void&nbsp;reportLongestRoadIfChanged(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                                      <a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;prevLongestRoadPlayer,
                                      boolean&nbsp;hasGameMonitor)</pre>
<div class="block">Check whether game's Longest Road/Longest Route player has changed, announce to game if so: Sends
 <a href="../../soc/message/SOCGameElements.html" title="class in soc.message"><code>SOCGameElements</code></a>(<a href="../../soc/message/SOCGameElements.GEType.html#LONGEST_ROAD_PLAYER"><code>LONGEST_ROAD_PLAYER</code></a>)
 or (for v1.x clients) <a href="../../soc/message/SOCLongestRoad.html" title="class in soc.message"><code>SOCLongestRoad</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - Game to check</dd>
<dd><code>prevLongestRoadPlayer</code> - Previous <a href="../../soc/game/SOCGame.html#getPlayerWithLongestRoad--"><code>SOCGame.getPlayerWithLongestRoad()</code></a>, might be null,
     from before the game action which might have changed it</dd>
<dd><code>hasGameMonitor</code> - If true, caller already has
     <a href="../../soc/util/SOCGameList.html#takeMonitorForGame-java.lang.String-"><code>gameList.takeMonitorForGame(gaName)</code></a>
     and this method should use <a href="../../soc/server/SOCServer.html#messageToGameWithMon-java.lang.String-boolean-soc.message.SOCMessage-"><code>SOCServer.messageToGameWithMon(String, boolean, SOCMessage)</code></a>.
     Otherwise will take and release that monitor here by using
     <a href="../../soc/server/SOCServer.html#messageToGame-java.lang.String-boolean-soc.message.SOCMessage-"><code>SOCServer.messageToGame(String, boolean, SOCMessage)</code></a> instead.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.4.00</dd>
</dl>
</li>
</ul>
<a name="startGame-soc.game.SOCGame-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startGame</h4>
<pre>public&nbsp;void&nbsp;startGame(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga)</pre>
<div class="block">Do the things you need to do to start a game and send its data to the clients.
 Players are already seated when this method is called.
<P>
 Send all game members the piece counts, other public information for the game and each player,
 set up and send the board layout, game state, and finally send the <a href="../../soc/message/SOCStartGame.html" title="class in soc.message"><code>STARTGAME</code></a>
 and <a href="../../soc/message/SOCTurn.html" title="class in soc.message"><code>TURN</code></a> messages.
<P>
 Set game state to <a href="../../soc/game/GameState.html#READY"><code>GameState.READY</code></a> or higher, from an earlier/lower state.
<P>
 If <a href="../../soc/game/SOCGame.html#hasSeaBoard"><code>SOCGame.hasSeaBoard</code></a>: Once the board is made, send the updated
 <a href="../../soc/message/SOCPotentialSettlements.html" title="class in soc.message"><code>potential settlements</code></a>.
<P>
 If this code changes, must also update <code>soctest.game.TestBoardLayouts#testSingleLayout(SOCScenario, int)</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/server/GameHandler.html#startGame-soc.game.SOCGame-">startGame</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - the game</dd>
</dl>
</li>
</ul>
<a name="sendTurnStateAtInitialPlacement-soc.game.SOCGame-soc.game.SOCPlayer-soc.communication.Connection-soc.game.GameState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendTurnStateAtInitialPlacement</h4>
<pre>void&nbsp;sendTurnStateAtInitialPlacement(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                                     <a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;pl,
                                     <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;c,
                                     <a href="../../soc/game/GameState.html" title="enum in soc.game">GameState</a>&nbsp;prevGameState)</pre>
<div class="block">After a player action during initial placement: Send new game state.
 If current player changed, an initial-placement round ended (<a href="../../soc/game/SOCGame.html#isInitialPlacementRoundDone-soc.game.GameState-"><code>SOCGame.isInitialPlacementRoundDone(GameState)</code></a>),
 or regular game play started, announce the new player with
 <a href="../../soc/server/SOCGameHandler.html#sendTurn-soc.game.SOCGame-boolean-"><code>sendTurn(SOCGame, boolean)</code></a> or send <a href="../../soc/message/SOCRollDicePrompt.html" title="class in soc.message"><code>SOCRollDicePrompt</code></a>
 to trigger auto-roll for the new player's client.
<P>
 Call after an initial road/ship placement's <a href="../../soc/game/SOCGame.html#putPiece-soc.game.SOCPlayingPiece-"><code>SOCGame.putPiece(SOCPlayingPiece)</code></a>,
 or after a player has chosen free resources from a gold hex with
 <a href="../../soc/game/SOCGame.html#pickGoldHexResources-int-soc.game.SOCResourceSet-"><code>SOCGame.pickGoldHexResources(int, SOCResourceSet)</code></a>,
 and only after <a href="../../soc/server/SOCGameHandler.html#sendGameState-soc.game.SOCGame-boolean-boolean-"><code>sendGameState(SOCGame, boolean, boolean)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - The game</dd>
<dd><code>pl</code> - Player who did the gold pick or piece placement action</dd>
<dd><code>c</code> - <code>pl</code>'s connection</dd>
<dd><code>prevGameState</code> - <a href="../../soc/game/SOCGame.html#getGameState--"><code>SOCGame.getGameState()</code></a> before piece placement,
     or for gold pick action the pre-reveal game state returned from <code>ga.pickGoldHexResources(..)</code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.00</dd>
</dl>
</li>
</ul>
<a name="sendTurn-soc.game.SOCGame-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendTurn</h4>
<pre>void&nbsp;sendTurn(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;theGame,
              boolean&nbsp;sendRollPrompt)</pre>
<div class="block">At start of a new turn, send game its new <a href="../../soc/game/SOCGame.html#getGameState--"><code>SOCGame.getGameState()</code></a>
 and <a href="../../soc/message/SOCTurn.html" title="class in soc.message"><code>SOCTurn</code></a> for whose turn it is. Optionally also send a prompt to roll.
<P>
 The <a href="../../soc/message/SOCTurn.html" title="class in soc.message"><code>SOCTurn</code></a> sent will have a field for the Game State unless
 <a href="../../soc/game/SOCGame.html#clientVersionLowest"><code>SOCGame.clientVersionLowest</code></a> &lt; 2.0.00 (<a href="../../soc/message/SOCGameState.html#VERSION_FOR_GAME_STATE_AS_FIELD"><code>SOCGameState.VERSION_FOR_GAME_STATE_AS_FIELD</code></a>),
 in which case a separate <a href="../../soc/message/SOCGameState.html" title="class in soc.message"><code>SOCGameState</code></a> message will be sent first.
 Calls <a href="../../soc/server/SOCGameHandler.html#sendGameState-soc.game.SOCGame-boolean-boolean-"><code>sendGameState(SOCGame, boolean, boolean)</code></a> in either case,
 to send any text prompts or other gamestate-related messages.
<P>
 sendTurn should be called whenever the current player changes, including
 during and after initial placement.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>theGame</code> - the game</dd>
<dd><code>sendRollPrompt</code> - If true, also send a <code>RollDicePrompt</code> message after <code>Turn</code></dd>
</dl>
</li>
</ul>
<a name="getBoardLayoutMessage-soc.game.SOCGame-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBoardLayoutMessage</h4>
<pre>public static&nbsp;<a href="../../soc/message/SOCMessage.html" title="class in soc.message">SOCMessage</a>&nbsp;getBoardLayoutMessage(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga)
                                        throws java.lang.IllegalArgumentException</pre>
<div class="block">Put together the board layout message for this game.
 Message type will be <a href="../../soc/message/SOCBoardLayout.html" title="class in soc.message"><code>SOCBoardLayout</code></a> or <a href="../../soc/message/SOCBoardLayout2.html" title="class in soc.message"><code>SOCBoardLayout2</code></a>,
 depending on <a href="../../soc/game/SOCBoard.html#getBoardEncodingFormat--"><code>ga.getBoard().getBoardEncodingFormat()</code></a>
 and <a href="../../soc/game/SOCGame.html#getClientVersionMinRequired--"><code>SOCGame.getClientVersionMinRequired()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - the game</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a board layout message</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if game board's encoding is unrecognized</dd>
</dl>
</li>
</ul>
<a name="endTurnIfInactive-soc.game.SOCGame-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endTurnIfInactive</h4>
<pre>public&nbsp;void&nbsp;endTurnIfInactive(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                              long&nbsp;currentTimeMillis)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../soc/server/GameHandler.html#endTurnIfInactive-soc.game.SOCGame-long-">GameHandler</a></code></span></div>
<div class="block">The server's timer thread thinks this game is inactive because of a robot bug.
 Check the game.  If this is the case, end the current turn, forcing if necessary.
 Use a separate thread so the main timer thread isn't tied up; see <a href="../../soc/server/SOCForceEndTurnThread.html" title="class in soc.server"><code>SOCForceEndTurnThread</code></a>.
<P>
 The server checks <a href="../../soc/game/SOCGame.html#lastActionTime"><code>SOCGame.lastActionTime</code></a> to decide inaction.
 The game could also seem inactive if we're waiting for another human player to decide something.
 Games with state &gt;= <a href="../../soc/game/GameState.html#GAME_OVER"><code>GameState.GAME_OVER</code></a>, and games which haven't started yet
 (<a href="../../soc/game/SOCGame.html#getCurrentPlayerNumber--"><code>SOCGame.getCurrentPlayerNumber()</code></a> == -1), are ignored.
<P>
 The default timeout is <a href="../../soc/server/SOCServer.html#ROBOT_FORCE_ENDTURN_SECONDS"><code>SOCServer.ROBOT_FORCE_ENDTURN_SECONDS</code></a>.  You may calculate and use
 a longer timeout if it makes sense in the current conditions, such as waiting for a human player
 to ignore or respond to a trade offer.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/server/GameHandler.html#endTurnIfInactive-soc.game.SOCGame-long-">endTurnIfInactive</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - Game to check</dd>
<dd><code>currentTimeMillis</code> - The time when called, from <code>System.currentTimeMillis()</code></dd>
</dl>
</li>
</ul>
<a name="endGameTurnOrForce-soc.game.SOCGame-int-java.lang.String-soc.communication.Connection-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endGameTurnOrForce</h4>
<pre>public&nbsp;boolean&nbsp;endGameTurnOrForce(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                                  int&nbsp;plNumber,
                                  java.lang.String&nbsp;plName,
                                  <a href="../../soc/communication/Connection.html" title="class in soc.communication">Connection</a>&nbsp;plConn,
                                  boolean&nbsp;hasMonitorFromGameList)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../soc/server/GameHandler.html#endGameTurnOrForce-soc.game.SOCGame-int-java.lang.String-soc.communication.Connection-boolean-">GameHandler</a></code></span></div>
<div class="block">A bot is unresponsive, or a human player has left the game.
 End this player's turn cleanly, or force-end if needed.
<P>
 Can be called for a player still in the game, or for a player
 who has left (<a href="../../soc/game/SOCGame.html#removePlayer-java.lang.String-boolean-"><code>SOCGame.removePlayer(String, boolean)</code></a> has been called).
 Can be called for a player who isn't current player; in that case
 it takes action if the game was waiting for the player (picking random
 resources for discard or gold-hex picks) but won't end the current turn.
<P>
 If they were placing an initial road, also cancels that road's
 initial settlement.
<P>
 <b>Locks:</b> Must not have ga.takeMonitor() when calling this method.
 May or may not have <tt>gameList.takeMonitorForGame(ga)</tt>;
 use <tt>hasMonitorFromGameList</tt> to indicate.
<P>
 Before v2.4.50, this method was only in <a href="../../soc/server/SOCGameHandler.html" title="class in soc.server"><code>SOCGameHandler</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/server/GameHandler.html#endGameTurnOrForce-soc.game.SOCGame-int-java.lang.String-soc.communication.Connection-boolean-">endGameTurnOrForce</a></code>&nbsp;in class&nbsp;<code><a href="../../soc/server/GameHandler.html" title="class in soc.server">GameHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - The game to end turn if called for current player, or to otherwise stop waiting for a player</dd>
<dd><code>plNumber</code> - player.getNumber; may or may not be current player</dd>
<dd><code>plName</code> - player.getName</dd>
<dd><code>plConn</code> - player's client connection</dd>
<dd><code>hasMonitorFromGameList</code> - if false, have not yet called
          <a href="../../soc/util/SOCGameList.html#takeMonitorForGame-java.lang.String-"><code>gameList.takeMonitorForGame(ga)</code></a>;
          if false, this method will take this monitor at its start,
          and release it before returning.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the turn was ended and game is still active;
          false if we find that all players have left and
          the gamestate has been changed here to <a href="../../soc/game/GameState.html#GAME_OVER"><code>GameState.GAME_OVER</code></a>.</dd>
</dl>
</li>
</ul>
<a name="gameEvent-soc.game.SOCGame-soc.game.SOCGameEvent-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gameEvent</h4>
<pre>public&nbsp;void&nbsp;gameEvent(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                      <a href="../../soc/game/SOCGameEvent.html" title="enum in soc.game">SOCGameEvent</a>&nbsp;evt,
                      java.lang.Object&nbsp;detail)</pre>
<div class="block">Listener callback for scenario events on the large sea board which affect the game or board,
 not a specific player. For example, a hex might be revealed from fog.
<P>
 <em>Threads:</em> The game's treater thread handles incoming client messages and calls
 game methods that change state. Those same game methods will trigger the scenario events;
 so, the treater thread will also run this <tt>gameEvent</tt> callback.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/game/SOCGameEventListener.html#gameEvent-soc.game.SOCGame-soc.game.SOCGameEvent-java.lang.Object-">gameEvent</a></code>&nbsp;in interface&nbsp;<code><a href="../../soc/game/SOCGameEventListener.html" title="interface in soc.game">SOCGameEventListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - Game</dd>
<dd><code>evt</code> - Event code</dd>
<dd><code>detail</code> - Game piece, coordinate, or other data about the event, or null, depending on <tt>evt</tt></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/server/SOCGameHandler.html#playerEvent-soc.game.SOCGame-soc.game.SOCPlayer-soc.game.SOCPlayerEvent-boolean-java.lang.Object-"><code>playerEvent(SOCGame, SOCPlayer, SOCPlayerEvent, boolean, Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="playerEvent-soc.game.SOCGame-soc.game.SOCPlayer-soc.game.SOCPlayerEvent-boolean-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>playerEvent</h4>
<pre>public&nbsp;void&nbsp;playerEvent(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                        <a href="../../soc/game/SOCPlayer.html" title="class in soc.game">SOCPlayer</a>&nbsp;pl,
                        <a href="../../soc/game/SOCPlayerEvent.html" title="enum in soc.game">SOCPlayerEvent</a>&nbsp;evt,
                        boolean&nbsp;flagsChanged,
                        java.lang.Object&nbsp;obj)</pre>
<div class="block">Listener callback for per-player game/scenario events on the large sea board.
 For example, there might be an SVP awarded for settlements.
 Server sends messages to the game to announce it (PLAYERELEMENT,
 <a href="../../soc/server/SOCGameHandler.html#updatePlayerSVPPendingMessage-soc.game.SOCGame-soc.game.SOCPlayer-int-java.lang.String-"><code>updatePlayerSVPPendingMessage(SOCGame, SOCPlayer, int, String)</code></a>, etc).
<P>
 <em>Threads:</em> The game's treater thread handles incoming client messages and calls
 game methods that change state. Those same game methods will trigger the scenario events;
 so, the treater thread will also run this <tt>playerEvent</tt> callback.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../soc/game/SOCGameEventListener.html#playerEvent-soc.game.SOCGame-soc.game.SOCPlayer-soc.game.SOCPlayerEvent-boolean-java.lang.Object-">playerEvent</a></code>&nbsp;in interface&nbsp;<code><a href="../../soc/game/SOCGameEventListener.html" title="interface in soc.game">SOCGameEventListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - Game</dd>
<dd><code>pl</code> - Player</dd>
<dd><code>evt</code> - Event code</dd>
<dd><code>flagsChanged</code> - True if this event changed <a href="../../soc/game/SOCPlayer.html#getPlayerEvents--"><code>SOCPlayer.getPlayerEvents()</code></a>,
             <a href="../../soc/game/SOCPlayer.html#getSpecialVP--"><code>SOCPlayer.getSpecialVP()</code></a>, or another flag documented for <tt>evt</tt> in
             <a href="../../soc/game/SOCPlayerEvent.html" title="enum in soc.game"><code>SOCPlayerEvent</code></a></dd>
<dd><code>obj</code> - Object related to the event, or null; documented for <tt>evt</tt> in <a href="../../soc/game/SOCPlayerEvent.html" title="enum in soc.game"><code>SOCPlayerEvent</code></a>.
             Example: The <a href="../../soc/game/SOCVillage.html" title="class in soc.game"><code>SOCVillage</code></a> for <a href="../../soc/game/SOCPlayerEvent.html#CLOTH_TRADE_ESTABLISHED_VILLAGE"><code>SOCPlayerEvent.CLOTH_TRADE_ESTABLISHED_VILLAGE</code></a>.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/server/SOCGameHandler.html#gameEvent-soc.game.SOCGame-soc.game.SOCGameEvent-java.lang.Object-"><code>gameEvent(SOCGame, SOCGameEvent, Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="sendGamePendingMessages-soc.game.SOCGame-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>sendGamePendingMessages</h4>
<pre>void&nbsp;sendGamePendingMessages(<a href="../../soc/game/SOCGame.html" title="class in soc.game">SOCGame</a>&nbsp;ga,
                             boolean&nbsp;takeMon)</pre>
<div class="block">Sends the contents of this game's <a href="../../soc/game/SOCGame.html#pendingMessagesOut"><code>SOCGame.pendingMessagesOut</code></a> and its players'
 <a href="../../soc/game/SOCPlayer.html#pendingMessagesOut"><code>SOCPlayer.pendingMessagesOut</code></a>, then empties those lists.
 To avoid unnecessary work here, check if the game's pending list is empty before calling this method.
<P>
 Calls <a href="../../soc/server/SOCServer.html#recordGameEvent-java.lang.String-soc.message.SOCMessage-"><code>SOCServer.recordGameEvent(String, SOCMessage)</code></a> or
 <a href="../../soc/server/SOCServer.html#recordGameEventTo-java.lang.String-int-soc.message.SOCMessage-"><code>SOCServer.recordGameEventTo(String, int, SOCMessage)</code></a> for queued each message.
<P>
 <B>I18N:</B> Checks <code>pendingMessagesOut</code> for <a href="../../soc/message/SOCKeyedMessage.html" title="interface in soc.message"><code>SOCKeyedMessage</code></a>s and handles them accordingly.
 Currently this is the only method that checks for those, because other places send text messages
 immediately instead of queueing them and localizing/sending later.
 Also checks for <a href="../../soc/server/UnlocalizedString.html" title="class in soc.server"><code>UnlocalizedString</code></a>s, to be localized and sent with
 <a href="../../soc/server/SOCServer.html#messageToGameKeyed-soc.game.SOCGame-boolean-boolean-java.lang.String-java.lang.Object...-"><code>SOCServer.messageToGameKeyed(SOCGame, boolean, boolean, String, Object...)</code></a>
 or <a href="../../soc/server/SOCServer.html#messageToGameKeyedSpecial-soc.game.SOCGame-boolean-boolean-java.lang.String-java.lang.Object...-"><code>SOCServer.messageToGameKeyedSpecial(SOCGame, boolean, boolean, String, Object...)</code></a>.
<P>
 <B>Locks:</B> If <code>takeMon</code> is true, takes and releases
 <a href="../../soc/util/SOCGameList.html#takeMonitorForGame-java.lang.String-"><code>gameList.takeMonitorForGame(gameName)</code></a>.
 Otherwise call <a href="../../soc/util/SOCGameList.html#takeMonitorForGame-java.lang.String-"><code>gameList.takeMonitorForGame(gameName)</code></a>
 before calling this method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ga</code> - game with pending messages</dd>
<dd><code>takeMon</code> - Should this method take and release game's monitor via
     <a href="../../soc/util/SOCGameList.html#takeMonitorForGame-java.lang.String-"><code>gameList.takeMonitorForGame(gameName)</code></a>?
     True unless caller already holds that monitor.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0.00</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../soc/server/SOCGameHandler.html#updatePlayerSVPPendingMessage-soc.game.SOCGame-soc.game.SOCPlayer-int-java.lang.String-"><code>updatePlayerSVPPendingMessage(SOCGame, SOCPlayer, int, String)</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../soc/server/SOCForceEndTurnThread.html" title="class in soc.server"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../soc/server/SOCGameListAtServer.html" title="class in soc.server"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?soc/server/SOCGameHandler.html" target="_top">Frames</a></li>
<li><a href="SOCGameHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
